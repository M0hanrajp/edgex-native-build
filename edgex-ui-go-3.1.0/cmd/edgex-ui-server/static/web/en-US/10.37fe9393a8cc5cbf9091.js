"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[10],{4010:(l_,U,g)=>{g.r(U),g.d(U,{MetadataModule:()=>tt});var n=g(8583),a=g(3092),I=g(9502),_=g(476);let W=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-metadata"]],decls:17,vars:0,consts:function(){let s,e,t,i;return s="Device Service",e="Device",t="Device Profile",i="Provision Watcher",[[1,"card"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs","font-weight-bold"],[1,"nav-item"],["routerLink","./device-service-list","routerLinkActive","active",1,"nav-link"],s,["routerLink","./device-center","routerLinkActive","active",1,"nav-link"],e,["routerLink","./device-profile-center","routerLinkActive","active",1,"nav-link"],t,["routerLink","./provision-watcher-center","routerLinkActive","active",1,"nav-link"],i,[1,"card-body"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"ul",2),_.TgZ(3,"li",3),_.TgZ(4,"a",4),_.SDv(5,5),_.qZA(),_.qZA(),_.TgZ(6,"li",3),_.TgZ(7,"a",6),_.SDv(8,7),_.qZA(),_.qZA(),_.TgZ(9,"li",3),_.TgZ(10,"a",8),_.SDv(11,9),_.qZA(),_.qZA(),_.TgZ(12,"li",3),_.TgZ(13,"a",10),_.SDv(14,11),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(15,"div",12),_._UZ(16,"router-outlet"),_.qZA(),_.qZA())},directives:[I.yS,I.Od,I.lC],styles:[".active-link[_ngcontent-%COMP%]{color:#922c48;background-color:#922c4866!important}"]}),E})();var u=g(2437),Z=g(7822);function m(E,s){if(1&E&&(_.TgZ(0,"p"),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.description)}}function N(E,s){1&E&&(_.TgZ(0,"p",20),_._uU(1,"no description."),_.qZA())}function V(E,s){if(1&E&&(_.TgZ(0,"span",21),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function X(E,s){if(1&E&&(_.TgZ(0,"span",22),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function H(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"a",23),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().associatedDevicesSkip(i.name)}),_._UZ(1,"i",24),_.TgZ(2,"span"),_.SDv(3,25),_.qZA(),_._uU(4),_.qZA()}if(2&E){const e=_.oxw().$implicit,t=_.oxw();_.xp6(4),_.hij("\xa0 ",t.associatedDevices.get(e.name)," ")}}function a_(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"li",3),_.TgZ(1,"div",4),_.TgZ(2,"div",5),_._UZ(3,"i",6),_.qZA(),_.TgZ(4,"div",7),_.TgZ(5,"div",8),_.TgZ(6,"h5",9),_._uU(7),_.qZA(),_.qZA(),_.YNc(8,m,2,1,"p",10),_.YNc(9,N,2,0,"ng-template",null,11,_.W1O),_.TgZ(11,"div"),_.TgZ(12,"span",12),_._uU(13),_.qZA(),_.TgZ(14,"span",13),_.YNc(15,V,2,1,"span",14),_.YNc(16,X,2,1,"span",15),_.qZA(),_.YNc(17,H,5,1,"a",16),_.TgZ(18,"span",17),_.NdJ("click",function(){const o=_.CHM(e).$implicit;return _.oxw().edit(o)}),_._UZ(19,"i",18),_.TgZ(20,"span"),_.SDv(21,19),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit,t=_.MAs(10),i=_.oxw();_.xp6(7),_.Oqu(e.name),_.xp6(1),_.Q6J("ngIf",e.description)("ngIfElse",t),_.xp6(5),_.hij("Port ",i.getSvcPort(e.baseAddress),""),_.xp6(1),_.Q6J("ngSwitch",e.adminState),_.xp6(1),_.Q6J("ngSwitchCase","UNLOCKED"),_.xp6(2),_.Q6J("ngIf",i.associatedDevices.size)}}function P(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",26),_.TgZ(1,"div",27),_._UZ(2,"i",28),_.TgZ(3,"span"),_.SDv(4,29),_.qZA(),_.TgZ(5,"span",30),_._uU(6),_.qZA(),_.TgZ(7,"button",31),_.NdJ("click",function(){return _.CHM(e),_.oxw().updateSvc()}),_.SDv(8,32),_.qZA(),_.qZA(),_.TgZ(9,"div",33),_.TgZ(10,"form"),_.TgZ(11,"div",34),_.TgZ(12,"label",35),_.SDv(13,36),_.qZA(),_.TgZ(14,"div",37),_.TgZ(15,"input",38),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().deviceSvcSelected.description=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(16,"div",34),_.TgZ(17,"label",39),_.SDv(18,40),_.qZA(),_.TgZ(19,"div",37),_.TgZ(20,"select",41),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().deviceSvcSelected.adminState=i}),_.TgZ(21,"option",42),_._uU(22,"UNLOCKED"),_.qZA(),_.TgZ(23,"option",43),_._uU(24,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(6),_.Oqu(e.deviceSvcSelected.name),_.xp6(9),_.Q6J("ngModel",e.deviceSvcSelected.description),_.xp6(5),_.Q6J("ngModel",e.deviceSvcSelected.adminState)}}let G=(()=>{class E{constructor(e,t,i,o){this.metaSvc=e,this.msgSvc=t,this.router=i,this.route=o,this.deviceServiceList=[],this.associatedDevices=new Map}ngOnInit(){this.metaSvc.allDeviceServices().subscribe(e=>{this.deviceServiceList=e.services,this.deviceServiceList.forEach(t=>{this.metaSvc.findDevicesByServiceName(0,20,t.name).subscribe(i=>{this.associatedDevices.set(t.name,i.devices.length>20?"20+":String(i.devices.length))})})})}getSvcPort(e){return new URL(e).port}edit(e){this.deviceSvcSelected=e}updateSvc(){this.metaSvc.updateDeviceService(this.deviceSvcSelected).subscribe(()=>{var e;this.msgSvc.success("update device service",`name: ${null===(e=this.deviceSvcSelected)||void 0===e?void 0:e.name}`),this.deviceSvcSelected=void 0})}associatedDevicesSkip(e){this.router.navigate(["../device-center"],{queryParams:{svcName:e},relativeTo:this.route})}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(I.F0),_.Y36(I.gz))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-service-media-list"]],decls:3,vars:2,consts:function(){let s,e,t,i,o,c;return s="Setting",e="Associated Devices",t="edit",i="Save",o="Description",c="AdminState",[[1,"list-group","p-0"],["class","list-group-item list-group-item-action list-group-item-light",4,"ngFor","ngForOf"],["class","card mt-3",4,"ngIf"],[1,"list-group-item","list-group-item-action","list-group-item-light"],[1,"media"],[1,"align-self-center","mr-3"],[1,"fa","fa-tags","fa-2x","text-secondary"],[1,"media-body"],[1,"mt-0","mb-1"],[1,"d-inline","mr-3","align-middle","text-dark"],[4,"ngIf","ngIfElse"],["nodesc",""],[1,"badge","badge-info","mr-3"],[3,"ngSwitch"],["class","badge badge-success mr-3",4,"ngSwitchCase"],["class","badge badge-danger mr-3",4,"ngSwitchDefault"],["class","badge badge-primary","role","button",3,"click",4,"ngIf"],["role","button",1,"badge","badge-secondary","float-right",3,"click"],[1,"fa","fa-cog","mr-1"],s,[1,"my-1"],[1,"badge","badge-success","mr-3"],[1,"badge","badge-danger","mr-3"],["role","button",1,"badge","badge-primary",3,"click"],[1,"fa","fa-sitemap","mr-1"],e,[1,"card","mt-3"],[1,"card-header"],[1,"fa","fa-edit","mr-1","text-danger"],t,[1,"ml-1"],[1,"btn","btn-success","btn-sm","float-right",3,"click"],i,[1,"card-body"],[1,"form-group","row"],["for","deviceDesc",1,"col-md-2","col-form-label"],o,[1,"col-md-10"],["type","text","name","deviceSvcDescription",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],c,["name","deviceSvcAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"]]},template:function(e,t){1&e&&(_.TgZ(0,"ul",0),_.YNc(1,a_,22,7,"li",1),_.qZA(),_.YNc(2,P,25,3,"div",2)),2&e&&(_.xp6(1),_.Q6J("ngForOf",t.deviceServiceList),_.xp6(1),_.Q6J("ngIf",t.deviceSvcSelected))},directives:[n.sg,n.O5,n.RF,n.n9,n.ED,a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.EJ,a.YN,a.Kr],styles:[""]}),E})(),l=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-center"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[I.lC],styles:[""]}),E})();var r=g(7982);function p(E,s){1&E&&_._UZ(0,"div")}function b(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"li",20),_.NdJ("click",function(){const o=_.CHM(e).$implicit;return _.oxw(2).selectCmd(o)}),_._uU(1),_.qZA()}if(2&E){const e=s.$implicit,t=_.oxw(2);_.ekj("list-group-item-info",(null==t.selectedCmd?null:t.selectedCmd.name)===e.name),_.xp6(1),_.Oqu(e.name)}}function q(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",34),_.NdJ("click",function(){return _.CHM(e),_.oxw(3).issueGetCmd()}),_._uU(1,"try"),_.qZA()}}function J(E,s){1&E&&_._UZ(0,"div")}function w(E,s){if(1&E&&(_.TgZ(0,"span",41),_._uU(1),_.qZA()),2&E){const e=_.oxw(4);_.xp6(1),_.hij(" ",e.cmdGetResponse,"")}}function k(E,s){if(1&E&&(_.TgZ(0,"pre",42),_._uU(1),_.qZA()),2&E){const e=_.oxw(4);_.xp6(1),_.Oqu(e.cmdGetResponseRaw)}}function z(E,s){if(1&E&&(_.TgZ(0,"div"),_.TgZ(1,"span",35),_.SDv(2,36),_.qZA(),_.YNc(3,w,2,1,"span",37),_.qZA(),_.TgZ(4,"div",38),_.TgZ(5,"span",35),_.SDv(6,39),_.qZA(),_.YNc(7,k,2,1,"pre",40),_.qZA()),2&E){const e=_.oxw(3);_.xp6(3),_.Q6J("ngIf",e.cmdGetResponse),_.xp6(4),_.Q6J("ngIf",e.cmdGetResponseRaw)}}function j(E,s){1&E&&(_.TgZ(0,"h6",43),_._UZ(1,"i",44),_.TgZ(2,"span"),_.SDv(3,45),_.qZA(),_.qZA())}function __(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",34),_.NdJ("click",function(){return _.CHM(e),_.oxw(3).issueSetCmd()}),_._uU(1,"try"),_.qZA()}}function e_(E,s){1&E&&_._UZ(0,"div")}function t_(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"label",56),_._uU(2),_.qZA(),_.TgZ(3,"select",57),_.NdJ("ngModelChange",function(i){_.CHM(e);const o=_.oxw().index;return _.oxw(6).parameterBearerList[o].value=i}),_.TgZ(4,"option",58),_._uU(5,"false"),_.qZA(),_.TgZ(6,"option",58),_._uU(7,"true"),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw(),t=e.$implicit,i=e.index,o=_.oxw(6);_.xp6(1),_.s9C("for",t.resourceName),_.xp6(1),_.hij(" ",t.resourceName," "),_.xp6(1),_.s9C("id",t.resourceName),_.s9C("name",t.resourceName),_.Q6J("ngModel",o.parameterBearerList[i].value),_.xp6(1),_.Q6J("ngValue",!1),_.xp6(2),_.Q6J("ngValue",!0)}}function E_(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"label",56),_._uU(1),_.qZA(),_.TgZ(2,"input",59),_.NdJ("ngModelChange",function(i){_.CHM(e);const o=_.oxw().index;return _.oxw(6).parameterBearerList[o].value=i}),_.qZA()}if(2&E){const e=_.oxw(),t=e.$implicit,i=e.index,o=_.oxw(6);_.s9C("for",t.resourceName),_.xp6(1),_.Oqu(t.resourceName),_.xp6(1),_.s9C("id",t.resourceName),_.s9C("name",t.resourceName),_.MGl("placeholder","valueType: ",t.valueType,""),_.Q6J("ngModel",o.parameterBearerList[i].value)}}function i_(E,s){if(1&E&&(_.TgZ(0,"div",53),_.YNc(1,t_,8,7,"div",54),_.YNc(2,E_,3,6,"ng-template",null,55,_.W1O),_.qZA()),2&E){const e=s.$implicit,t=_.MAs(3);_.xp6(1),_.Q6J("ngIf","Bool"==e.valueType)("ngIfElse",t)}}function n_(E,s){if(1&E&&(_.TgZ(0,"div",51),_.YNc(1,i_,4,2,"div",52),_.qZA()),2&E){const e=_.oxw(5);_.xp6(1),_.Q6J("ngForOf",e.selectedCmdSetParams)}}function o_(E,s){if(1&E&&(_.TgZ(0,"div",12),_.TgZ(1,"div",4),_.SDv(2,49),_.qZA(),_.TgZ(3,"div",9),_.YNc(4,n_,2,1,"div",50),_.qZA(),_.qZA()),2&E){const e=_.oxw(4);_.xp6(4),_.Q6J("ngIf",e.selectedCmd)}}function h(E,s){if(1&E&&(_.TgZ(0,"span",41),_._uU(1),_.qZA()),2&E){const e=_.oxw(4);_.xp6(1),_.Oqu(e.cmdSetResponse)}}function u_(E,s){if(1&E&&(_.TgZ(0,"pre",42),_._uU(1),_.qZA()),2&E){const e=_.oxw(4);_.xp6(1),_.Oqu(e.cmdSetResponseRaw)}}function v_(E,s){if(1&E&&(_.YNc(0,o_,5,1,"div",46),_.TgZ(1,"div"),_.TgZ(2,"div"),_.TgZ(3,"span",35),_.SDv(4,47),_.qZA(),_.YNc(5,h,2,1,"span",37),_.qZA(),_.TgZ(6,"div",38),_.TgZ(7,"span",35),_.SDv(8,48),_.qZA(),_.YNc(9,u_,2,1,"pre",40),_.qZA(),_.qZA()),2&E){const e=_.oxw(3);_.Q6J("ngIf",e.selectedCmdSetParams),_.xp6(5),_.Q6J("ngIf",e.cmdSetResponse),_.xp6(4),_.Q6J("ngIf",e.cmdSetResponseRaw)}}function m_(E,s){1&E&&(_.TgZ(0,"h6",43),_._UZ(1,"i",44),_.TgZ(2,"span"),_.SDv(3,60),_.qZA(),_.qZA())}function P_(E,s){if(1&E&&(_.TgZ(0,"div",21),_.TgZ(1,"div",4),_.TgZ(2,"span",22),_._UZ(3,"i",23),_._uU(4),_.qZA(),_.TgZ(5,"span"),_.SDv(6,24),_.qZA(),_.qZA(),_.TgZ(7,"div",25),_.TgZ(8,"div",10),_.TgZ(9,"div",26),_.TgZ(10,"div",12),_.TgZ(11,"div",4),_._uU(12," Get "),_.YNc(13,q,2,0,"button",27),_.qZA(),_.TgZ(14,"div",28),_.YNc(15,J,1,0,"div",0),_.YNc(16,z,8,2,"ng-template",null,29,_.W1O),_.YNc(18,j,4,0,"ng-template",null,30,_.W1O),_.qZA(),_.qZA(),_.qZA(),_.TgZ(20,"div",31),_.TgZ(21,"div",21),_.TgZ(22,"div",4),_._uU(23," Set "),_.YNc(24,__,2,0,"button",27),_.qZA(),_.TgZ(25,"div",9),_.YNc(26,e_,1,0,"div",0),_.YNc(27,v_,10,3,"ng-template",null,32,_.W1O),_.YNc(29,m_,4,0,"ng-template",null,33,_.W1O),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&E){const e=_.MAs(17),t=_.MAs(19),i=_.MAs(28),o=_.MAs(30),c=_.oxw(2);_.xp6(4),_.hij(" ",c.selectedCmd.name," method:"),_.xp6(9),_.Q6J("ngIf",c.selectedCmd.get),_.xp6(2),_.Q6J("ngIf",c.selectedCmd.get)("ngIfThen",e)("ngIfElse",t),_.xp6(9),_.Q6J("ngIf",c.selectedCmd.set),_.xp6(2),_.Q6J("ngIf",c.selectedCmd.set)("ngIfThen",i)("ngIfElse",o)}}function M_(E,s){if(1&E&&(_.TgZ(0,"div",3),_.TgZ(1,"div",4),_.TgZ(2,"span",5),_._UZ(3,"i",6),_.qZA(),_.TgZ(4,"span",7),_._uU(5),_.qZA(),_.TgZ(6,"span"),_.SDv(7,8),_.qZA(),_.qZA(),_.TgZ(8,"div",9),_.TgZ(9,"div",10),_.TgZ(10,"div",11),_.TgZ(11,"div",12),_.TgZ(12,"div",13),_.SDv(13,14),_.qZA(),_.TgZ(14,"div",15),_.TgZ(15,"ul",16),_.YNc(16,b,2,3,"li",17),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(17,"div",18),_.YNc(18,P_,31,9,"div",19),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&E){const e=_.oxw();_.xp6(5),_.Oqu(e.associatedCmdDeviceName),_.xp6(11),_.Q6J("ngForOf",e.deviceCoreCommand),_.xp6(2),_.Q6J("ngIf",e.selectedCmd)}}function R_(E,s){if(1&E&&(_.TgZ(0,"div",3),_.TgZ(1,"div",4),_.TgZ(2,"span",5),_._UZ(3,"i",6),_.qZA(),_.TgZ(4,"span",7),_._uU(5),_.qZA(),_.TgZ(6,"span"),_.SDv(7,61),_.qZA(),_.qZA(),_.TgZ(8,"div",62),_.TgZ(9,"h5",43),_._UZ(10,"i",63),_.TgZ(11,"span"),_.SDv(12,64),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&E){const e=_.oxw();_.xp6(5),_.Oqu(e.associatedCmdDeviceName)}}let N_=(()=>{class E{constructor(e,t){this.cmdSvc=e,this.metadataSvc=t,this.selectedCmd={},this.selectedCmdSetParams=[],this.parameterBearerList=[]}ngOnInit(){}ngOnChanges(){!this.deviceName||(this.resetResponse(),this.cmdSvc.findDeviceAssociatedCommnadsByDeviceName(this.deviceName).subscribe(e=>{this.associatedCmdDeviceName=e.deviceCoreCommand.deviceName,this.deviceCoreCommand=e.deviceCoreCommand.coreCommands,this.deviceCoreCommand&&0!==this.deviceCoreCommand.length&&(this.selectedCmd=this.deviceCoreCommand[0],this.selectedCmdSetParams=this.selectedCmd.parameters,this.setParameterBearerList(),this.getAssociatedDeviceProfile(e.deviceCoreCommand.profileName))}))}getAssociatedDeviceProfile(e){this.metadataSvc.findProfileByName(e).subscribe(t=>this.associateDeviceProfile=t.profile)}selectCmd(e){this.selectedCmd=e,this.selectedCmdSetParams=this.selectedCmd.parameters,this.resetResponse(),this.setParameterBearerList()}setParameterBearerList(){this.parameterBearerList=[],this.selectedCmdSetParams.forEach(e=>{this.parameterBearerList.push({key:e.resourceName,value:""})})}resetResponse(){this.cmdGetResponse="",this.cmdGetResponseRaw="",this.cmdSetResponse="",this.cmdSetResponseRaw="",this.cmdBinaryResponse=!0,this.cmdBinaryResponseURL=""}isBinaryResource(){let e=!1;return this.associateDeviceProfile.deviceResources.forEach(t=>{t.name!==this.selectedCmd.name||"Binary"!==t.properties.valueType||(e=!0)}),e||(this.associateDeviceProfile.deviceCommands.forEach(t=>{t.name===this.selectedCmd.name&&t.resourceOperations.forEach(i=>{this.associateDeviceProfile.deviceResources.forEach(o=>{i.deviceResource!==o.name||"Binary"!==o.properties.valueType||(e=!0)})})}),e)}issueGetCmd(){this.cmdSvc.issueGetCmd(this.associatedCmdDeviceName,this.selectedCmd.name).subscribe(e=>{if(this.cmdGetResponseRaw=JSON.stringify(e.event.readings,null,3),this.isBinaryResource())return void(this.cmdGetResponse="Binary resource is not supported for preview");let t=[];e.event.readings.forEach(i=>{t.push(i.value)}),this.cmdGetResponse=t.join(",")})}issueGetCmdOfBinaryResource(){this.cmdSvc.issueGetBinaryCmd(this.associatedCmdDeviceName,this.selectedCmd.name).subscribe(e=>{let t=CBOR.decode(e);"image/jpeg"===t.mediaType||"image/jpg"===t.mediaType||"image/png"===t.mediaType?(this.cmdBinaryResponse=t.binaryValue,this.cmdBinaryResponseURL=URL.createObjectURL(this.cmdBinaryResponse)):this.cmdBinaryResponse="only image binary is supported"})}issueSetCmd(){var e;let t={};this.parameterBearerList.forEach(i=>{t[i.key]=i.value}),this.cmdSvc.issueSetCmd(this.associatedCmdDeviceName,null===(e=this.selectedCmd)||void 0===e?void 0:e.name,t).subscribe(i=>{this.cmdSetResponseRaw=JSON.stringify(i,null,3),this.cmdSetResponse=i.message})}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(r.V),_.Y36(u.D))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-command-viewer"]],inputs:{deviceName:"deviceName"},features:[_.TTD],decls:5,vars:3,consts:function(){let s,e,t,i,o,c,d,D,C,A,M,T;return s="Associated Commands",e=" Command Name List ",t="Get and Set",i="Response:",o="ResponseRaw:",c="no Get method",d="Response:",D="ResponseRaw:",C="Set Parameters",A="no Set method",M="Associated Commands",T="no associated commands",[[4,"ngIf","ngIfThen","ngIfElse"],["hasAssociatedCommand",""],["noAssociatedCommand",""],[1,"card","mt-3"],[1,"card-header"],[1,"badge","badge-danger","text-light"],[1,"fa","fa-terminal","font-weight-bolder"],[1,"text-primary","mx-2","font-weight-bold"],s,[1,"card-body"],[1,"row"],[1,"col-md-2","col-lg-2"],[1,"card","mb-2"],[1,"card-header","font-weight-bold"],e,[1,"card-body","p-0"],[1,"list-group","list-group-flush"],["role","button","class","list-group-item list-group-item-action",3,"list-group-item-info","click",4,"ngFor","ngForOf"],[1,"col-md-10","col-lg-10"],["class","card",4,"ngIf"],["role","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"card"],[1,"text-primary","font-weight-bold","mr-2"],[1,"fa","fa-thumb-tack","text-danger","mr-1"],t,[1,"card-body","px-2"],[1,"col-md-5","col-lg-5"],["class","btn btn-primary btn-sm float-right",3,"click",4,"ngIf"],[1,"card-body","overflow-auto"],["hasGetMethod",""],["noGetMethod",""],[1,"col-md-7","col-lg-7"],["hasSetMethod",""],["noSetMethod",""],[1,"btn","btn-primary","btn-sm","float-right",3,"click"],[1,"badge","badge-info"],i,["class","ml-2 text-primary",4,"ngIf"],[1,"mt-3"],o,["class","mt-2 bg-secondary p-2 text-light rounded",4,"ngIf"],[1,"ml-2","text-primary"],[1,"mt-2","bg-secondary","p-2","text-light","rounded"],[1,"text-warning"],[1,"fa","fa-warning","mr-1"],c,["class","card mb-2",4,"ngIf"],d,D,C,["class","d-flex flex-column bd-highlight",4,"ngIf"],[1,"d-flex","flex-column","bd-highlight"],["class","form p-2 bd-highlight",4,"ngFor","ngForOf"],[1,"form","p-2","bd-highlight"],[4,"ngIf","ngIfElse"],["valueTypeIsNotBool",""],[3,"for"],[1,"custom-select","custom-select-sm",3,"id","name","ngModel","ngModelChange"],[3,"ngValue"],[1,"form-control","form-control-sm",3,"id","name","ngModel","placeholder","ngModelChange"],A,M,[1,"card-body","text-center"],[1,"fa","fa-warning"],T]},template:function(e,t){if(1&e&&(_.YNc(0,p,1,0,"div",0),_.YNc(1,M_,19,3,"ng-template",null,1,_.W1O),_.YNc(3,R_,13,1,"ng-template",null,2,_.W1O)),2&e){const i=_.MAs(2),o=_.MAs(4);_.Q6J("ngIf",t.deviceCoreCommand)("ngIfThen",i)("ngIfElse",o)}},directives:[n.O5,n.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr,a.Fj],styles:[""]}),E})();function h_(E,s){if(1&E&&(_.TgZ(0,"span"),_.TgZ(1,"span",67),_.SDv(2,68),_.qZA(),_.TgZ(3,"span",69),_._uU(4),_.qZA(),_.TgZ(5,"span"),_.SDv(6,70),_.qZA(),_.qZA()),2&E){const e=_.oxw();_.xp6(4),_.Oqu(e.associatedSvcName)}}function V_(E,s){if(1&E&&(_.TgZ(0,"span"),_.TgZ(1,"span",67),_.SDv(2,71),_.qZA(),_.TgZ(3,"span",69),_._uU(4),_.qZA(),_.TgZ(5,"span"),_.SDv(6,72),_.qZA(),_.qZA()),2&E){const e=_.oxw();_.xp6(4),_.Oqu(e.associatedProfileName)}}function L_(E,s){1&E&&(_.TgZ(0,"span"),_.SDv(1,73),_.qZA())}function Z_(E,s){if(1&E&&(_.TgZ(0,"span",85),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function G_(E,s){if(1&E&&(_.TgZ(0,"span",86),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function b_(E,s){if(1&E&&(_.TgZ(0,"span",85),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.operatingState,"")}}function X_(E,s){if(1&E&&(_.TgZ(0,"span",86),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.operatingState,"")}}function U_(E,s){if(1&E&&(_.TgZ(0,"span",86),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.operatingState,"")}}const $_=function(E){return{profileName:E}};function W_(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"input",23),_.NdJ("click",function(i){const c=_.CHM(e).$implicit;return _.oxw().selectOne(i,c)}),_.qZA(),_.qZA(),_.TgZ(3,"td",74),_._uU(4),_.qZA(),_.TgZ(5,"td",74),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_.TgZ(12,"span",75),_.YNc(13,Z_,2,1,"span",76),_.YNc(14,G_,2,1,"span",77),_.qZA(),_.qZA(),_.TgZ(15,"td",78),_.TgZ(16,"span",75),_.YNc(17,b_,2,1,"span",76),_.YNc(18,X_,2,1,"span",79),_.YNc(19,U_,2,1,"span",77),_.qZA(),_.qZA(),_.TgZ(20,"td",78),_.TgZ(21,"span",80),_.NdJ("click",function(){const o=_.CHM(e).$implicit,c=_.oxw();return c.setSpecialFeatureViewer(o,c.FEATURE_COMMAND)}),_._UZ(22,"i",81),_.qZA(),_.qZA(),_.TgZ(23,"td",78),_.TgZ(24,"span",80),_.NdJ("click",function(){const o=_.CHM(e).$implicit,c=_.oxw();return c.setSpecialFeatureViewer(o,c.FEATURE_AUTOEVENT)}),_._UZ(25,"i",82),_.qZA(),_.qZA(),_.TgZ(26,"td"),_.TgZ(27,"a",83),_._uU(28),_.qZA(),_.qZA(),_.TgZ(29,"td"),_.TgZ(30,"a",84),_._uU(31),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit,t=_.oxw();_.ekj("table-active",t.isChecked(e.id)||t.specialFeatureAssociatedDeviceName===e.name),_.xp6(2),_.Q6J("checked",t.isChecked(e.id)),_.xp6(2),_.Oqu(e.id),_.xp6(2),_.Oqu(e.name),_.xp6(2),_.Oqu(e.description),_.xp6(2),_.Oqu(e.labels),_.xp6(2),_.Q6J("ngSwitch",e.adminState),_.xp6(1),_.Q6J("ngSwitchCase","UNLOCKED"),_.xp6(3),_.Q6J("ngSwitch",e.operatingState),_.xp6(1),_.Q6J("ngSwitchCase","UP"),_.xp6(1),_.Q6J("ngSwitchCase","DOWN"),_.xp6(3),_.ekj("badge-danger",t.specialFeatureName===t.FEATURE_COMMAND&&t.specialFeatureAssociatedDeviceName===e.name),_.xp6(3),_.ekj("badge-danger",t.specialFeatureName===t.FEATURE_AUTOEVENT&&t.specialFeatureAssociatedDeviceName===e.name),_.xp6(3),_.Q6J("queryParams",_.VKq(19,$_,e.profileName)),_.xp6(1),_.Oqu(e.profileName),_.xp6(3),_.Oqu(e.serviceName)}}function q_(E,s){if(1&E&&(_.TgZ(0,"tr"),_.TgZ(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_.TgZ(4,"span",99),_._uU(5),_.qZA(),_.qZA(),_.TgZ(6,"td"),_.TgZ(7,"span",100),_._uU(8),_.qZA(),_.qZA(),_.qZA()),2&E){const e=s.$implicit;_.xp6(2),_.Oqu(e.sourceName),_.xp6(3),_.Oqu(e.interval),_.xp6(3),_.Oqu(e.onChange)}}function x_(E,s){if(1&E&&(_.TgZ(0,"div"),_.TgZ(1,"div",89),_.TgZ(2,"div",90),_.TgZ(3,"span",91),_._UZ(4,"i",82),_.qZA(),_.TgZ(5,"span",92),_._uU(6),_.qZA(),_.TgZ(7,"span"),_.SDv(8,93),_.qZA(),_.qZA(),_.TgZ(9,"div",94),_.TgZ(10,"div",19),_.TgZ(11,"table",20),_.TgZ(12,"thead",21),_.TgZ(13,"th",22),_.SDv(14,95),_.qZA(),_.TgZ(15,"th",22),_.SDv(16,96),_.qZA(),_.TgZ(17,"th",22),_.SDv(18,97),_.qZA(),_.qZA(),_.TgZ(19,"tbody"),_.YNc(20,q_,9,3,"tr",98),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&E){const e=_.oxw(2);_.xp6(6),_.hij(" ",e.specialFeatureAssociatedDeviceName,""),_.xp6(14),_.Q6J("ngForOf",e.autoEvents)}}function H_(E,s){if(1&E&&(_.TgZ(0,"div",89),_.TgZ(1,"div",90),_.TgZ(2,"span",91),_._UZ(3,"i",82),_.qZA(),_.TgZ(4,"span",92),_._uU(5),_.qZA(),_.TgZ(6,"span"),_.SDv(7,101),_.qZA(),_.qZA(),_.TgZ(8,"div",102),_.TgZ(9,"h5",103),_._UZ(10,"i",58),_.TgZ(11,"span"),_.SDv(12,104),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&E){const e=_.oxw(2);_.xp6(5),_.hij(" ",e.specialFeatureAssociatedDeviceName,"")}}function J_(E,s){if(1&E&&(_.TgZ(0,"div"),_.YNc(1,x_,21,2,"div",87),_.YNc(2,H_,13,1,"ng-template",null,88,_.W1O),_.qZA()),2&E){const e=_.MAs(3),t=_.oxw();_.xp6(1),_.Q6J("ngIf",t.autoEvents)("ngIfElse",e)}}function F_(E,s){if(1&E&&(_.TgZ(0,"div"),_._UZ(1,"app-device-command-viewer",105),_.qZA()),2&E){const e=_.oxw();_.xp6(1),_.Q6J("deviceName",e.specialFeatureAssociatedDeviceName)}}let y_=(()=>{class E{constructor(e,t,i,o){this.metaSvc=e,this.msgSvc=t,this.route=i,this.router=o,this.toolbars=!0,this.enableSelectAll=!0,this.deviceList=[],this.associatedSvcName="",this.associatedProfileName="",this.selectedDevice=[],this.FEATURE_AUTOEVENT="autoevent",this.FEATURE_COMMAND="command",this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(e=>e.svcName?(this.associatedSvcName=e.svcName,void this.getDeviceListByAssociatedSvc(this.associatedSvcName)):e.profileName?(this.associatedProfileName=e.profileName,void this.getDeviceListByAssociatedProfile(this.associatedProfileName)):(this.associatedSvcName="",this.associatedProfileName="",void this.getDeviceListPagination()))}renderPopoverComponent(){setTimeout(()=>{$('[data-toggle="popover"]').popover({trigger:"hover"})},250)}getDeviceList(){""===this.associatedSvcName?""===this.associatedProfileName?this.getDeviceListPagination():this.getDeviceListByAssociatedProfile(this.associatedSvcName):this.getDeviceListByAssociatedSvc(this.associatedSvcName)}getDeviceListByAssociatedSvc(e){this.metaSvc.findDevicesByServiceName(this.pageOffset,this.pageLimit,e).subscribe(t=>this.deviceList=t.devices)}getDeviceListByAssociatedProfile(e){this.metaSvc.findDevicesByProfileName(this.pageOffset,this.pageLimit,e).subscribe(t=>this.deviceList=t.devices)}getDeviceListPagination(){this.metaSvc.allDevicesPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.deviceList=e.devices})}refresh(){this.associatedProfileName="",this.associatedSvcName="",this.metaSvc.allDevicesPagination(0,this.pageLimit).subscribe(e=>{this.deviceList=e.devices,this.msgSvc.success("refresh"),this.resetPagination()})}edit(){this.router.navigate(["../edit-device"],{relativeTo:this.route,queryParams:{deviceName:this.selectedDevice[0].name}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}delete(){this.selectedDevice.forEach((e,t)=>{this.metaSvc.deleteOneDeviceByName(e.name).subscribe(()=>{this.selectedDevice.splice(t,1),this.deviceList.forEach((i,o)=>{if(i.id===e.id)return this.deviceList.splice(o,1),void this.msgSvc.success("remove device ",` Name: ${i.name}`)})})}),this.specialFeatureName=void 0,$("#deleteConfirmDialog").modal("hide")}setSpecialFeatureViewer(e,t){switch(this.specialFeatureAssociatedDeviceName=e.name,this.specialFeatureName=t,this.specialFeatureName){case this.FEATURE_AUTOEVENT:this.autoEvents=e.autoEvents}}isCheckedAll(){let e=!0;return this.deviceList&&0===this.deviceList.length&&(e=!1),this.deviceList.forEach(t=>{-1===this.selectedDevice.findIndex(i=>i.name===t.name)&&(e=!1)}),e}selectAll(e){this.deviceList.forEach(e.target.checked?i=>{-1===this.selectedDevice.findIndex(o=>o.name===i.name)&&this.selectedDevice.push(i)}:i=>{this.selectedDevice.forEach((o,c)=>{o.name===i.name&&this.selectedDevice.splice(c,1)})})}isChecked(e){return this.selectedDevice.findIndex(t=>t.id===e)>=0}selectOne(e,t){e.target.checked?this.selectedDevice.push(t):this.selectedDevice.forEach((o,c)=>{o.name===t.name&&this.selectedDevice.splice(c,1)})}onPageSelected(){this.resetPagination(),this.getDeviceList()}prePage(){this.setPagination(-1),this.getDeviceList()}nextPage(){this.setPagination(1),this.getDeviceList()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.pageOffset=(this.pagination-1)*this.pageLimit}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(I.gz),_.Y36(I.F0))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-list"]],inputs:{toolbars:"toolbars",enableSelectAll:"enableSelectAll"},decls:98,vars:12,consts:function(){let s,e,t,i,o,c,d,D,C,A,M,T,f,L,v,S,y,Q,Y,B,K,R,T_,I_,S_,C_,A_,O_,g_,D_,p_,f_;return s="Refresh",e="Add",t="Edit",i="Delete",o="ID",c="Name",d="Description",D="Labels",C="AdminState",A="OperatingState",M="Command",T="AutoEvents",f="AssociatedProfile",L="AssociatedService",v="items per page",S="Previous",y="Next",Q="Warning",Y=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",B="Cancel",K="Confirm",R="DeviceService",T_="Associated Device List",I_="DeviceProfile",S_="Associated Device List",C_="Device List",A_="Associated AutoEvents",O_="Resource",g_="Interval",D_="Onchange",p_="Associated AutoEvents",f_="no associated AutoEvents",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","text-danger","mr-2"],[4,"ngIf"],[1,"card-body","p-0","position-relative"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["data-testid","device-list-refresh-btn",1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],s,["type","button","routerLink","../add-device",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],e,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],t,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],i,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],o,c,d,D,C,A,M,T,f,L,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],v,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],S,[1,"page-item"],y,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],Q,[1,"modal-body"],Y,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],B,["type","button",1,"btn","btn-danger",3,"click"],K,[1,"mr-1"],R,[1,"text-danger","mr-1"],T_,I_,S_,C_,[1,"user-select-all"],[3,"ngSwitch"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchDefault"],[1,"text-center"],["class","badge badge-danger",4,"ngSwitchCase"],["role","button",1,"badge","badge-primary","text-light",3,"click"],[1,"fa","fa-terminal","font-weight-bolder"],[1,"fa","fa-calendar-check-o","font-weight-bolder"],["routerLink","../../device-profile-center",3,"queryParams"],["routerLink","../../device-service-list"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[4,"ngIf","ngIfElse"],["noAutoEvents",""],[1,"card","mt-3"],[1,"card-header"],[1,"badge","badge-danger","text-light"],[1,"text-primary","mx-2","font-weight-bold"],A_,[1,"card-body","p-0"],O_,g_,D_,[4,"ngFor","ngForOf"],[1,"badge","badge-secondary","badge-pill"],[1,""],p_,[1,"card-body","text-center"],[1,"text-warning"],f_,[3,"deviceName"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.YNc(3,h_,7,1,"span",3),_.YNc(4,V_,7,1,"span",3),_.YNc(5,L_,2,0,"span",3),_.qZA(),_.TgZ(6,"div",4),_.TgZ(7,"div",5),_.TgZ(8,"div",6),_.TgZ(9,"button",7),_.NdJ("click",function(){return t.refresh()}),_.TgZ(10,"span"),_._UZ(11,"i",8),_.TgZ(12,"span"),_.SDv(13,9),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"button",10),_.TgZ(15,"span"),_._UZ(16,"i",11),_.TgZ(17,"span"),_.SDv(18,12),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"button",13),_.NdJ("click",function(){return t.edit()}),_.TgZ(20,"span"),_._UZ(21,"i",14),_.TgZ(22,"span"),_.SDv(23,15),_.qZA(),_.qZA(),_.qZA(),_.TgZ(24,"button",16),_.NdJ("click",function(){return t.deleteConfirm()}),_.TgZ(25,"span"),_._UZ(26,"i",17),_.TgZ(27,"span"),_.SDv(28,18),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"div",19),_.TgZ(30,"table",20),_.TgZ(31,"thead",21),_.TgZ(32,"tr"),_.TgZ(33,"th",22),_.TgZ(34,"input",23),_.NdJ("click",function(o){return t.selectAll(o)}),_.qZA(),_.qZA(),_.TgZ(35,"th",22),_.SDv(36,24),_.qZA(),_.TgZ(37,"th",22),_.SDv(38,25),_.qZA(),_.TgZ(39,"th",22),_.SDv(40,26),_.qZA(),_.TgZ(41,"th",22),_.SDv(42,27),_.qZA(),_.TgZ(43,"th",22),_.SDv(44,28),_.qZA(),_.TgZ(45,"th",22),_.SDv(46,29),_.qZA(),_.TgZ(47,"th",22),_.SDv(48,30),_.qZA(),_.TgZ(49,"th",22),_.SDv(50,31),_.qZA(),_.TgZ(51,"th",22),_.SDv(52,32),_.qZA(),_.TgZ(53,"th",22),_.SDv(54,33),_.qZA(),_.qZA(),_.qZA(),_.TgZ(55,"tbody"),_.YNc(56,W_,32,21,"tr",34),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(57,"div",35),_.TgZ(58,"nav",36),_.TgZ(59,"ul",37),_.TgZ(60,"li",38),_.TgZ(61,"span",39),_.SDv(62,40),_.qZA(),_.qZA(),_.TgZ(63,"li",41),_.TgZ(64,"select",42),_.NdJ("ngModelChange",function(o){return t.pageLimit=o})("ngModelChange",function(){return t.onPageSelected()}),_.TgZ(65,"option",43),_._uU(66,"5"),_.qZA(),_.TgZ(67,"option",44),_._uU(68,"10"),_.qZA(),_.TgZ(69,"option",45),_._uU(70,"20"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(71,"li",46),_.TgZ(72,"button",47),_.NdJ("click",function(){return t.prePage()}),_._UZ(73,"i",48),_.TgZ(74,"span"),_.SDv(75,49),_.qZA(),_.qZA(),_.qZA(),_.TgZ(76,"li",50),_.TgZ(77,"button",47),_.NdJ("click",function(){return t.nextPage()}),_.TgZ(78,"span"),_.SDv(79,51),_.qZA(),_._UZ(80,"i",52),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(81,J_,4,2,"div",3),_.YNc(82,F_,2,1,"div",3),_.TgZ(83,"div",53),_.TgZ(84,"div",54),_.TgZ(85,"div",55),_.TgZ(86,"div",56),_.TgZ(87,"h5",57),_._UZ(88,"i",58),_.TgZ(89,"span"),_.SDv(90,59),_.qZA(),_.qZA(),_.qZA(),_.TgZ(91,"div",60),_.SDv(92,61),_.qZA(),_.TgZ(93,"div",62),_.TgZ(94,"button",63),_.SDv(95,64),_.qZA(),_.TgZ(96,"button",65),_.NdJ("click",function(){return t.delete()}),_.SDv(97,66),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(3),_.Q6J("ngIf",""!==t.associatedSvcName),_.xp6(1),_.Q6J("ngIf",""!==t.associatedProfileName),_.xp6(1),_.Q6J("ngIf",""===t.associatedProfileName&&""===t.associatedSvcName),_.xp6(14),_.Q6J("disabled",1!==t.selectedDevice.length),_.xp6(5),_.Q6J("disabled",0===t.selectedDevice.length),_.xp6(10),_.Q6J("checked",t.isCheckedAll()),_.xp6(22),_.Q6J("ngForOf",t.deviceList),_.xp6(8),_.Q6J("ngModel",t.pageLimit),_.xp6(8),_.Q6J("disabled",1===t.pagination),_.xp6(5),_.Q6J("disabled",t.pageLimit>t.deviceList.length),_.xp6(4),_.Q6J("ngIf",t.specialFeatureName===t.FEATURE_AUTOEVENT),_.xp6(1),_.Q6J("ngIf",t.specialFeatureName===t.FEATURE_COMMAND))},directives:[n.O5,I.rH,n.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr,n.RF,n.n9,n.ED,I.yS,N_],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),E})();class Q_{constructor(){this.Schema="",this.Host="",this.Port="",this.User="",this.Password="",this.ClientId="",this.CommandTopic=""}}class Y_{constructor(){this.Address="",this.Port="",this.UnitID="",this.Timeout="",this.IdleTimeout=""}}class B_{constructor(){this.Address="",this.UnitID="",this.BaudRate="",this.DataBits="",this.StopBits="",this.Parity="",this.Timeout="",this.IdleTimeout=""}}class K_{constructor(){this.Address="",this.Port=""}}class w_{constructor(){this.Address="",this.Port="",this.MACAddress=""}}class k_{constructor(){this.host="",this.port=""}}function z_(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",10),_.TgZ(1,"span",11),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2);return i.changeProtocolTemplateMode(i.TEMPLATE_BUILT_IN)}),_._UZ(2,"i",12),_.TgZ(3,"span"),_.SDv(4,13),_.qZA(),_.qZA(),_.TgZ(5,"span",14),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2);return i.changeProtocolTemplateMode(i.TEMPLATE_CUSTOM)}),_._UZ(6,"i",12),_.TgZ(7,"span"),_.SDv(8,15),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw(2);_.xp6(1),_.ekj("badge-primary",e.protocolTemplateMode===e.TEMPLATE_BUILT_IN)("badge-secondary",e.protocolTemplateMode!==e.TEMPLATE_BUILT_IN),_.xp6(1),_.ekj("fa-check-square",e.protocolTemplateMode===e.TEMPLATE_BUILT_IN),_.xp6(3),_.ekj("badge-primary",e.protocolTemplateMode===e.TEMPLATE_CUSTOM)("badge-secondary",e.protocolTemplateMode!==e.TEMPLATE_CUSTOM),_.xp6(1),_.ekj("fa-check-square",e.protocolTemplateMode===e.TEMPLATE_CUSTOM)}}function j_(E,s){1&E&&_._UZ(0,"div")}function _e(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form",34),_.TgZ(2,"div",35),_.TgZ(3,"div",36),_.TgZ(4,"span",37),_.SDv(5,38),_.qZA(),_.qZA(),_._UZ(6,"input",39),_.qZA(),_.TgZ(7,"div",40),_._UZ(8,"i",41),_.qZA(),_.TgZ(9,"div",35),_.TgZ(10,"div",36),_.TgZ(11,"span",37),_.SDv(12,42),_.qZA(),_.qZA(),_.TgZ(13,"input",43),_.NdJ("ngModelChange",function(i){const c=_.CHM(e).$implicit;return _.oxw(4).builtinProtocolTemplateSelected[c]=i}),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit,t=_.oxw(4);_.xp6(6),_.Q6J("value",e),_.xp6(7),_.Q6J("ngModel",t.builtinProtocolTemplateSelected[e])}}function ee(E,s){if(1&E&&(_.TgZ(0,"div"),_.YNc(1,_e,14,2,"div",33),_.qZA()),2&E){const e=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",e.builtinProtocolTemplateProperties)}}function te(E,s){1&E&&(_.TgZ(0,"h5",48),_._UZ(1,"i",49),_.TgZ(2,"span"),_.SDv(3,50),_.qZA(),_.qZA())}function Ee(E,s){if(1&E&&(_.TgZ(0,"div"),_._UZ(1,"span",44),_.TgZ(2,"span",45),_.SDv(3,46),_.qZA(),_.qZA(),_.YNc(4,te,4,0,"h5",47)),2&E){const e=_.oxw(3);_.xp6(4),_.Q6J("ngIf",0===e.builtinProtocolTemplateProperties.length&&e.builtinProtocolName)}}function ie(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",16),_.TgZ(1,"div",17),_.TgZ(2,"form"),_.TgZ(3,"div",18),_.TgZ(4,"label"),_.SDv(5,19),_.qZA(),_.TgZ(6,"select",20),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw(2).builtinProtocolName=i})("ngModelChange",function(){return _.CHM(e),_.oxw(2).onSelectBuiltinProtocolTemplate()}),_.TgZ(7,"option",21),_._uU(8,"device-mqtt"),_.qZA(),_.TgZ(9,"option",22),_._uU(10,"device-rest"),_.qZA(),_.TgZ(11,"option",23),_._uU(12,"device-virtual"),_.qZA(),_.TgZ(13,"option",24),_._uU(14,"device-modbus-tcp"),_.qZA(),_.TgZ(15,"option",25),_._uU(16,"device-modbus-rtu"),_.qZA(),_.TgZ(17,"option",26),_._uU(18,"device-onvif-camera"),_.qZA(),_.TgZ(19,"option",27),_._uU(20,"device-rfid-llrp"),_.qZA(),_.qZA(),_.TgZ(21,"div",28),_.TgZ(22,"small"),_.SDv(23,29),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(24,"div",30),_.YNc(25,ee,2,1,"div",31),_.YNc(26,Ee,5,1,"ng-template",null,32,_.W1O),_.qZA(),_.qZA()}if(2&E){const e=_.MAs(27),t=_.oxw(2);_.xp6(6),_.ekj("is-invalid",!t.builtinProtocolName)("is-valid",t.builtinProtocolName),_.Q6J("ngModel",t.builtinProtocolName),_.xp6(19),_.Q6J("ngIf",0!==t.builtinProtocolTemplateProperties.length)("ngIfElse",e)}}function ne(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form",34),_.TgZ(2,"div",35),_.TgZ(3,"div",36),_.TgZ(4,"span",37),_.SDv(5,60),_.qZA(),_.qZA(),_.TgZ(6,"input",61),_.NdJ("ngModelChange",function(i){return _.CHM(e).$implicit.propertyName=i}),_.qZA(),_.qZA(),_.TgZ(7,"div",40),_._UZ(8,"i",41),_.qZA(),_.TgZ(9,"div",35),_.TgZ(10,"div",36),_.TgZ(11,"span",37),_.SDv(12,62),_.qZA(),_.qZA(),_.TgZ(13,"input",63),_.NdJ("ngModelChange",function(i){return _.CHM(e).$implicit.propertyValue=i}),_.qZA(),_.qZA(),_.TgZ(14,"div",64),_.TgZ(15,"button",65),_.NdJ("click",function(){const o=_.CHM(e).$implicit;return _.oxw(3).removeCustomProtocolProperty(o)}),_._UZ(16,"i",66),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit;_.xp6(6),_.Q6J("ngModel",e.propertyName),_.xp6(7),_.Q6J("ngModel",e.propertyValue)}}function oe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",16),_.TgZ(1,"div",51),_.TgZ(2,"div",18),_.TgZ(3,"label"),_.SDv(4,52),_.qZA(),_.TgZ(5,"input",53),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw(2).customProtocolName=i})("ngModelChange",function(){return _.CHM(e),_.oxw(2).onCustomProtocolNameChange()}),_.qZA(),_.TgZ(6,"div",28),_.TgZ(7,"small"),_.SDv(8,54),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(9,"div",55),_.TgZ(10,"div"),_.TgZ(11,"p",56),_._UZ(12,"span",57),_.TgZ(13,"span",58),_.NdJ("click",function(){return _.CHM(e),_.oxw(2).addCustomProtocolProperty()}),_.SDv(14,59),_.qZA(),_.qZA(),_.qZA(),_.YNc(15,ne,17,2,"div",33),_.qZA(),_.qZA()}if(2&E){const e=_.oxw(2);_.xp6(5),_.ekj("is-invalid",!e.customProtocolName)("is-valid",e.customProtocolName),_.Q6J("ngModel",e.customProtocolName),_.xp6(10),_.Q6J("ngForOf",e.customProtocolPropertyBearer)}}function se(E,s){if(1&E&&(_.TgZ(0,"div",0),_.TgZ(1,"div",4),_.YNc(2,z_,9,12,"div",6),_.YNc(3,j_,1,0,"div",7),_.YNc(4,ie,28,7,"ng-template",null,8,_.W1O),_.YNc(6,oe,16,6,"ng-template",null,9,_.W1O),_.qZA(),_.qZA()),2&E){const e=_.MAs(5),t=_.MAs(7),i=_.oxw();_.xp6(2),_.Q6J("ngIf",i.mode===i.MODE_ADD),_.xp6(1),_.Q6J("ngIf",i.protocolTemplateMode===i.TEMPLATE_CUSTOM)("ngIfThen",t)("ngIfElse",e)}}let s_=(()=>{class E{constructor(){this.MODE_ADD="add",this.MODE_EDIT="edit",this.deviceProtocols={},this.isValid=!1,this.isValidChange=new _.vpe,this.TEMPLATE_CUSTOM="custom",this.TEMPLATE_BUILT_IN="built-in",this.customProtocolPropertyBearer=[],this.builtinProtocolTemplateProperties=[]}ngOnInit(){if(this.mode){if(this.mode==this.MODE_EDIT)return this.protocolTemplateMode=this.TEMPLATE_CUSTOM,this.extractProtocolName(),this.customProtocolName=this.protocolName?this.protocolName:"",void this.setCustomProtocolPropertysBearer();this.mode==this.MODE_ADD&&(this.protocolTemplateMode=this.TEMPLATE_BUILT_IN),this.validate()}}extractProtocolName(){!this.deviceProtocols||0===Object.keys(this.deviceProtocols).length||(this.protocolName=Object.keys(this.deviceProtocols)[0])}onSelectBuiltinProtocolTemplate(){switch(this.validate(),this.builtinProtocolName){case"mqtt":this.builtinProtocolTemplateSelected=new Q_;break;case"modbus-tcp":this.builtinProtocolTemplateSelected=new Y_;break;case"modbus-rtu":this.builtinProtocolTemplateSelected=new B_;break;case"other":this.builtinProtocolTemplateSelected=new K_;break;case"other-rest":this.builtinProtocolTemplateSelected={};break;case"Onvif":this.builtinProtocolTemplateSelected=new w_;break;case"tcp":this.builtinProtocolTemplateSelected=new k_;break;default:this.builtinProtocolTemplateSelected={}}this.builtinProtocolTemplateProperties=Object.keys(this.builtinProtocolTemplateSelected)}changeProtocolTemplateMode(e){this.protocolTemplateMode=e,this.validate()}onCustomProtocolNameChange(){this.validate()}setCustomProtocolPropertysBearer(){if(this.customProtocolName)for(const[e,t]of Object.entries(this.deviceProtocols[this.customProtocolName]))this.customProtocolPropertyBearer.push({propertyName:e,propertyValue:t})}addCustomProtocolProperty(){this.customProtocolPropertyBearer.push({propertyName:"",propertyValue:""})}removeCustomProtocolProperty(e){this.customProtocolPropertyBearer.splice(this.customProtocolPropertyBearer.indexOf(e),1)}getDeviceProtocols(){if(this.deviceProtocols={},this.protocolTemplateMode===this.TEMPLATE_BUILT_IN)this.deviceProtocols[this.builtinProtocolName]=Object.assign({},this.builtinProtocolTemplateSelected);else{let e={};this.customProtocolPropertyBearer.forEach(t=>{e[t.propertyName]=t.propertyValue}),this.deviceProtocols[this.customProtocolName]=e}return this.deviceProtocols}validate(){switch(this.isValid=!0,this.protocolTemplateMode){case this.TEMPLATE_BUILT_IN:this.builtinProtocolName||(this.isValid=!1);break;default:this.customProtocolName||(this.isValid=!1)}this.isValidChange.emit(this.isValid)}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-protocol"]],inputs:{mode:"mode",deviceProtocols:"deviceProtocols",isValid:"isValid"},outputs:{isValidChange:"isValidChange"},decls:7,vars:1,consts:function(){let s,e,t,i,o,c,d,D,C,A,M,T,f,L;return s="Device Protocol",e="Avaliable Protocol Templates",t="Custom Protocol Templates",i="Protocol Name",o="the protocol name can't be empty!",c="PropertyName",d="PropertyVaule",D=" all built-in protocol templates refer to the device service released by edgex, such as device-virtual, device-rest, device-mqtt, device-modbus ",C="this device service doesn't need to set protocol properties",A="Protocol Name",M="the protocol name can't be empty!",T="Add Protocol Property",f="PropertyName",L="PropertyValue",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],s,[1,"card-body"],["class","card",4,"ngIf"],["class","mb-2",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["builtinProtocolTemplate",""],["customProtocolTemplate",""],[1,"mb-2"],["role","button",1,"user-select-none","badge","font-weight-bold","mr-3",3,"click"],[1,"fa","fa-square-o","mr-1"],e,["role","button",1,"user-select-none","badge","font-weight-bold",3,"click"],t,[1,"row","border","border-secondary","p-2","rounded-lg","mx-1"],[1,"col-md-2","border-right","border-info"],[1,"form-group"],i,["type","text","name","builtinProtocolName","required","",1,"custom-select",3,"ngModel","ngModelChange"],["value","mqtt"],["value","other-rest"],["value","other"],["value","modbus-tcp"],["value","modbus-rtu"],["value","Onvif"],["value","tcp"],[1,"invalid-feedback"],o,[1,"col-md-10"],[4,"ngIf","ngIfElse"],["noBuiltinProperties",""],[4,"ngFor","ngForOf"],[1,"form-inline","mb-1"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],c,["type","text","disabled","",1,"form-control",2,"width","300px",3,"value"],[1,"form-group","mx-2"],[1,"fa","fa-long-arrow-right"],d,["type","text","name","property",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange"],[1,"fa","fa-info-circle","fa-lg","text-success","font-weight-bold","mr-1"],[1,"text-muted"],D,["class","text-warning",4,"ngIf"],[1,"text-warning"],[1,"fa","fa-warning","mr-1"],C,[1,"col-md-2","col-lg-2","border-right","border-secondary"],A,["type","text","name","customProtocolName",1,"form-control",3,"ngModel","ngModelChange"],M,[1,"col-md-10","col-lg-10"],[1,"badge","badge-secondary","font-weight-bold"],[1,"fa","fa-plus-circle","mr-2"],["role","button",1,"user-select-none",3,"click"],T,f,["type","text","name","propertyName",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange"],L,["type","text","name","PropertyValue",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange"],[1,"input-group","ml-2"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.qZA(),_.TgZ(5,"div",4),_.YNc(6,se,8,4,"div",5),_.qZA(),_.qZA()),2&e&&(_.xp6(6),_.Q6J("ngIf",t.mode))},directives:[n.O5,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,n.sg,a.Fj],styles:[""]}),E})();var x=g(4889);function ce(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"input",35),_.NdJ("click",function(i){const c=_.CHM(e).$implicit;return _.oxw().selectOneSvc(i,c.name)}),_.qZA(),_.qZA(),_.TgZ(3,"td"),_._uU(4),_.qZA(),_.TgZ(5,"td"),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.qZA(),_.TgZ(13,"td"),_._uU(14),_.ALo(15,"date"),_.qZA(),_.TgZ(16,"td"),_._uU(17),_.ALo(18,"date"),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit,t=_.oxw();_.ekj("table-active",t.isSvcChecked(e.name)),_.xp6(2),_.Q6J("checked",t.isSvcChecked(e.name)),_.xp6(2),_.Oqu(e.id),_.xp6(2),_.Oqu(e.name),_.xp6(2),_.Oqu(e.description),_.xp6(2),_.Oqu(e.labels),_.xp6(2),_.Oqu(e.adminState),_.xp6(2),_.Oqu(_.xi3(15,10,e.created,"yyyy-MM-dd hh:mm:ss")),_.xp6(3),_.Oqu(_.xi3(18,13,e.modified,"yyyy-MM-dd hh:mm:ss"))}}let c_=(()=>{class E{constructor(e){this.metaSvc=e,this.singleDeviceSvcSelectedEvent=new _.vpe,this.deviceServiceList=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.findAllDeviceSvcPagination()}findAllDeviceSvcPagination(){this.metaSvc.findAllDeviceServicesPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.deviceServiceList=e.services})}onSingleDeviceSvcSelectedEmitter(){this.singleDeviceSvcSelectedEvent.emit(this.deviceSvcSelected)}isSvcChecked(e){var t;return(null===(t=this.deviceSvcSelected)||void 0===t?void 0:t.name)===e}selectOneSvc(e,t){let o=this;e.target.checked?this.deviceServiceList.forEach(function(c){c.name===t&&(o.deviceSvcSelected=c)}):this.deviceSvcSelected=void 0,this.onSingleDeviceSvcSelectedEmitter()}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllDeviceSvcPagination()}prePage(){this.setPagination(-1),this.findAllDeviceSvcPagination()}nextPage(){this.setPagination(1),this.findAllDeviceSvcPagination()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-service-list"]],inputs:{deviceSvcSelected:"deviceSvcSelected"},outputs:{singleDeviceSvcSelectedEvent:"singleDeviceSvcSelectedEvent"},decls:52,vars:4,consts:function(){let s,e,t,i,o,c,d,D,C,A,M;return s="Device Service List",e="ID",t="Name",i="Description",o="Labels",c="AdminState",d="Created",D="Modified",C="items per page",A="Previous",M="Next",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","mr-2","text-danger"],s,[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],e,t,i,o,c,d,D,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],C,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],A,[1,"page-item"],M,[1,"fa","fa-angle-double-right","ml-1"],["type","checkbox","role","button",3,"checked","click"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.qZA(),_.TgZ(5,"div",4),_.TgZ(6,"div",5),_.TgZ(7,"table",6),_.TgZ(8,"thead",7),_.TgZ(9,"tr"),_.TgZ(10,"th",8),_._uU(11,"#"),_.qZA(),_.TgZ(12,"th",8),_.SDv(13,9),_.qZA(),_.TgZ(14,"th",8),_.SDv(15,10),_.qZA(),_.TgZ(16,"th",8),_.SDv(17,11),_.qZA(),_.TgZ(18,"th",8),_.SDv(19,12),_.qZA(),_.TgZ(20,"th",8),_.SDv(21,13),_.qZA(),_.TgZ(22,"th",8),_.SDv(23,14),_.qZA(),_.TgZ(24,"th",8),_.SDv(25,15),_.qZA(),_.qZA(),_.qZA(),_.TgZ(26,"tbody"),_.YNc(27,ce,19,16,"tr",16),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",17),_.TgZ(29,"nav",18),_.TgZ(30,"ul",19),_.TgZ(31,"li",20),_.TgZ(32,"span",21),_.SDv(33,22),_.qZA(),_.qZA(),_.TgZ(34,"li",23),_.TgZ(35,"select",24),_.NdJ("ngModelChange",function(o){return t.pageLimit=o})("ngModelChange",function(){return t.onPageSelected()}),_.TgZ(36,"option",25),_._uU(37,"5"),_.qZA(),_.TgZ(38,"option",26),_._uU(39,"10"),_.qZA(),_.TgZ(40,"option",27),_._uU(41,"20"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(42,"li",28),_.TgZ(43,"button",29),_.NdJ("click",function(){return t.prePage()}),_._UZ(44,"i",30),_.TgZ(45,"span"),_.SDv(46,31),_.qZA(),_.qZA(),_.qZA(),_.TgZ(47,"li",32),_.TgZ(48,"button",29),_.NdJ("click",function(){return t.nextPage()}),_.TgZ(49,"span"),_.SDv(50,33),_.qZA(),_._UZ(51,"i",34),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(27),_.Q6J("ngForOf",t.deviceServiceList),_.xp6(8),_.Q6J("ngModel",t.pageLimit),_.xp6(8),_.Q6J("disabled",1===t.pagination),_.xp6(5),_.Q6J("disabled",t.pageLimit>t.deviceServiceList.length))},directives:[n.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr],pipes:[n.uU],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),E})();var F=g(2822);function ae(E,s){if(1&E&&(_.TgZ(0,"option",37),_._uU(1),_.qZA()),2&E){const e=s.$implicit;_.s9C("value",e),_.xp6(1),_.Oqu(e)}}function le(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",10),_.TgZ(1,"div",4),_.TgZ(2,"form"),_.TgZ(3,"div",11),_.TgZ(4,"label",12),_.SDv(5,13),_.qZA(),_.TgZ(6,"div",14),_.TgZ(7,"div",15),_.TgZ(8,"input",16),_.NdJ("ngModelChange",function(i){return _.CHM(e).$implicit.interval=i})("ngModelChange",function(){return _.CHM(e),_.oxw().onValueChange()}),_.qZA(),_.TgZ(9,"div",17),_.TgZ(10,"select",18),_.NdJ("ngModelChange",function(i){return _.CHM(e).$implicit.unit=i})("ngModelChange",function(){return _.CHM(e),_.oxw().onValueChange()}),_.TgZ(11,"option",19),_._uU(12,"millisecond"),_.qZA(),_.TgZ(13,"option",20),_._uU(14,"second"),_.qZA(),_.TgZ(15,"option",21),_._uU(16,"minute"),_.qZA(),_.TgZ(17,"option",22),_._uU(18,"hour"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"div",23),_.SDv(20,24),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(21,"div",25),_.TgZ(22,"label",12),_.SDv(23,26),_.qZA(),_.TgZ(24,"div",14),_.TgZ(25,"select",27),_.NdJ("ngModelChange",function(i){return _.CHM(e).$implicit.onChange=i})("ngModelChange",function(){return _.CHM(e),_.oxw().onValueChange()}),_.TgZ(26,"option",28),_._uU(27,"true"),_.qZA(),_.TgZ(28,"option",29),_._uU(29,"false"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(30,"div",25),_.TgZ(31,"label",12),_.SDv(32,30),_.qZA(),_.TgZ(33,"div",14),_.TgZ(34,"select",31),_.NdJ("ngModelChange",function(i){return _.CHM(e).$implicit.resource=i})("ngModelChange",function(){return _.CHM(e),_.oxw().onValueChange()}),_.YNc(35,ae,2,2,"option",32),_.qZA(),_.TgZ(36,"div",23),_.SDv(37,33),_.qZA(),_.qZA(),_.qZA(),_.TgZ(38,"button",34),_.NdJ("click",function(){const o=_.CHM(e).$implicit;return _.oxw().removeAutoEvent(o)}),_._UZ(39,"i",35),_.TgZ(40,"span"),_.SDv(41,36),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit,t=_.oxw();_.xp6(8),_.ekj("is-invalid",!t.eventIntervalNumType(e.interval))("is-valid",t.eventIntervalNumType(e.interval)),_.Q6J("ngModel",e.interval),_.xp6(2),_.Q6J("ngModel",e.unit),_.xp6(15),_.Q6J("ngModel",e.onChange),_.xp6(9),_.ekj("is-invalid",""===e.resource)("is-valid",""!==e.resource),_.Q6J("ngModel",e.resource),_.xp6(1),_.Q6J("ngForOf",t.autoEventResourceNameSet)}}let r_=(()=>{class E{constructor(){this.autoEvents=[],this.autoEventsChange=new _.vpe,this.isValid=!1,this.isValidChange=new _.vpe,this.autoEventDecoratorBearer=[],this.autoEventResourceNameSet=[]}ngOnInit(){}ngOnChanges(){this.resetAutoEventDecoratorBearer(),this.setAutoEventDecorator(this.autoEvents),this.setupAutoEventResourceNameSet(this.deviceProfile),this.resumeOriginalAutoEvents()}onValueChange(){this.resumeOriginalAutoEvents()}resetAutoEventDecoratorBearer(){this.autoEventDecoratorBearer.splice(0,this.autoEventDecoratorBearer.length)}addAutoEvent(){this.autoEventDecoratorBearer.push({interval:"",onChange:!1,resource:"",unit:"ms"}),this.resumeOriginalAutoEvents()}removeAutoEvent(e){this.autoEventDecoratorBearer.splice(this.autoEventDecoratorBearer.indexOf(e),1),this.resumeOriginalAutoEvents()}setupAutoEventResourceNameSet(e){!e||(this.autoEventResourceNameSet.splice(0,this.autoEventResourceNameSet.length),e.deviceResources.forEach((t,i)=>{this.autoEventResourceNameSet.push(t.name)}),e.deviceCommands.forEach((t,i)=>{this.autoEventResourceNameSet.push(t.name)}))}eventIntervalNumType(e){return!isNaN(e)&&parseFloat(e)===parseInt(e)}setAutoEventDecorator(e){!e||e.forEach(t=>{let i=0;-1!==t.interval.indexOf("ms")?i=t.interval.indexOf("ms"):-1!==t.interval.indexOf("s")?i=t.interval.indexOf("s"):-1!==t.interval.indexOf("m")?i=t.interval.indexOf("m"):-1!==t.interval.indexOf("h")&&(i=t.interval.indexOf("h")),this.autoEventDecoratorBearer.push({interval:t.interval.slice(0,i),onChange:!!t.onChange&&t.onChange,resource:t.sourceName,unit:t.interval.substring(i)})})}resumeOriginalAutoEvents(){this.autoEvents?this.autoEvents.splice(0,this.autoEvents.length):this.autoEvents=[],this.autoEventDecoratorBearer.forEach(e=>{this.autoEvents.push({interval:`${e.interval}${e.unit}`,onChange:!!e.onChange,sourceName:e.resource})}),this.validate(),this.autoEventsChange.emit(this.autoEvents)}validate(){this.isValid=!0,0!==this.autoEventDecoratorBearer.length&&this.autoEventDecoratorBearer.forEach(e=>{this.eventIntervalNumType(e.interval)&&""!==e.resource||(this.isValid=!1)}),this.isValidChange.emit(this.isValid)}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-auto-event"]],inputs:{autoEvents:"autoEvents",deviceProfile:"deviceProfile",isValid:"isValid"},outputs:{autoEventsChange:"autoEventsChange",isValidChange:"isValidChange"},features:[_.TTD],decls:11,vars:1,consts:function(){let s,e,t,i,o,c,d,D;return s="AutoEvents",e="Add More AutoEvent",t="Interval",i=" can only be a pure integer number ",o="onchange",c="resource",d=" resource can't be empty ",D="Remove",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],s,[1,"card-body"],[1,"badge","badge-secondary","font-weight-bold"],[1,"fa","fa-plus-circle","mr-2"],["role","button",1,"user-select-none",3,"click"],e,["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"form-group","row","has-validation"],[1,"col-md-2","col-form-label"],t,[1,"col-md-10"],[1,"input-group","mb-3",2,"width","250px"],["type","text","name","interval","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["name","eventIntervalUnit","required","",1,"custom-select",3,"ngModel","ngModelChange"],["value","ms"],["value","s"],["value","m"],["value","h"],[1,"invalid-feedback"],i,[1,"form-group","row"],o,["name","onchange",1,"custom-select",2,"width","250px",3,"ngModel","ngModelChange"],["value","true"],["value","false"],c,["name","resource","required","",1,"custom-select",2,"width","250px",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],d,[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash","mr-1"],D,[3,"value"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.qZA(),_.TgZ(5,"div",4),_.TgZ(6,"p",5),_._UZ(7,"span",6),_.TgZ(8,"span",7),_.NdJ("click",function(){return t.addAutoEvent()}),_.SDv(9,8),_.qZA(),_.qZA(),_.YNc(10,le,42,13,"div",9),_.qZA(),_.qZA()),2&e&&(_.xp6(10),_.Q6J("ngForOf",t.autoEventDecoratorBearer))},directives:[n.sg,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On,a.EJ,a.YN,a.Kr],styles:[""]}),E})();function re(E,s){1&E&&_._UZ(0,"i",33)}function de(E,s){1&E&&_._UZ(0,"i",33)}function Te(E,s){1&E&&_._UZ(0,"i",33)}function Ie(E,s){1&E&&_._UZ(0,"i",33)}function Se(E,s){1&E&&_._UZ(0,"i",33)}function Ce(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",34),_.NdJ("click",function(){return _.CHM(e),_.oxw().previous()}),_._UZ(1,"i",35),_.TgZ(2,"span"),_.SDv(3,36),_.qZA(),_.qZA()}}function Ae(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",37),_.NdJ("click",function(){return _.CHM(e),_.oxw().next()}),_.TgZ(1,"span"),_.SDv(2,38),_.qZA(),_._UZ(3,"i",39),_.qZA()}if(2&E){const e=_.oxw();_.Q6J("disabled",e.stepStateLock())}}function Oe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",40),_.NdJ("click",function(){return _.CHM(e),_.oxw().submit()}),_._UZ(1,"i",41),_.TgZ(2,"span"),_.SDv(3,42),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.Q6J("disabled",e.stepStateLock())}}function ge(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",43),_.TgZ(1,"app-device-service-list",44),_.NdJ("singleDeviceSvcSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleDeviceSvcSelected(i)}),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(1),_.Q6J("deviceSvcSelected",e.selectedSvc)}}function De(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",43),_.TgZ(1,"app-device-profile-list",45),_.NdJ("singleProfileSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleProfileSelected(i)}),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(1),_.Q6J("singleProfileSelected",e.selectedProfile)("enableSelectAll",!1)("toolbars",!1)("associatedDeviceColumn",!1)}}function pe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"form",46),_.TgZ(1,"div",47),_.TgZ(2,"label",48),_.SDv(3,49),_.qZA(),_.TgZ(4,"div",50),_.TgZ(5,"input",51),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().newDevice.name=i}),_.qZA(),_.TgZ(6,"div",52),_.TgZ(7,"small"),_.SDv(8,53),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(9,"div",54),_.TgZ(10,"label",55),_.SDv(11,56),_.qZA(),_.TgZ(12,"div",50),_.TgZ(13,"input",57),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().newDevice.description=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"div",54),_.TgZ(15,"label",58),_.SDv(16,59),_.qZA(),_.TgZ(17,"div",50),_.TgZ(18,"input",60),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().deviceLabels=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"div",54),_.TgZ(20,"label",61),_.SDv(21,62),_.qZA(),_.TgZ(22,"div",50),_.TgZ(23,"select",63),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().newDevice.adminState=i}),_.TgZ(24,"option",64),_._uU(25,"UNLOCKED"),_.qZA(),_.TgZ(26,"option",65),_._uU(27,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(5),_.ekj("is-invalid",!e.newDevice.name)("is-valid",e.newDevice.name),_.Q6J("ngModel",e.newDevice.name),_.xp6(8),_.Q6J("ngModel",e.newDevice.description),_.xp6(5),_.Q6J("ngModel",e.deviceLabels),_.xp6(5),_.Q6J("ngModel",e.newDevice.adminState)}}function fe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",30),_.TgZ(1,"div",1),_.TgZ(2,"span",66),_.SDv(3,67),_.qZA(),_.qZA(),_.TgZ(4,"div",31),_.TgZ(5,"app-device-auto-event",68),_.NdJ("autoEventsChange",function(i){return _.CHM(e),_.oxw().newDevice.autoEvents=i})("isValidChange",function(i){return _.CHM(e),_.oxw().isAutoEventsValid=i}),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(5),_.Q6J("deviceProfile",e.selectedProfile)("autoEvents",e.newDevice.autoEvents)("isValid",e.isAutoEventsValid)}}let ue=(()=>{class E{constructor(e,t,i,o,c){this.metaSvc=e,this.msgSvc=t,this.errorSvc=i,this.router=o,this.route=c,this.deviceLabels="",this.currentStep=0,this.selectedClass="text-white rounded px-2 bg-success  font-weight-bold",this.noSelectedClass="text-white rounded px-2 bg-secondary  font-weight-bold",this.isProtocolValid=!1,this.isAutoEventsValid=!1,this.newDevice={adminState:"UNLOCKED",operatingState:"UP"}}ngOnInit(){}onSingleProfileSelected(e){this.selectedProfile=e}onSingleDeviceSvcSelected(e){this.selectedSvc=e}stepStateLock(){switch(this.currentStep){case 0:return void 0===this.selectedSvc;case 1:return void 0===this.selectedProfile;case 2:return!this.newDevice.name;case 3:return!this.isAutoEventsValid;case 4:return!this.isProtocolValid;default:return!1}}next(){this.currentStep+=1}previous(){this.currentStep=this.currentStep-1}submit(){var e,t,i;this.newDevice.labels=null===(e=this.deviceLabels)||void 0===e?void 0:e.split(","),this.newDevice.serviceName=null===(t=this.selectedSvc)||void 0===t?void 0:t.name,this.newDevice.profileName=null===(i=this.selectedProfile)||void 0===i?void 0:i.name,this.newDevice.protocols=this.deviceProtocols.getDeviceProtocols(),this.metaSvc.addDevice(this.newDevice).subscribe(o=>{this.errorSvc.handleErrorForAPI(o)||(this.msgSvc.success("Add device",`name: ${this.newDevice.name}`),this.router.navigate(["../device-list"],{relativeTo:this.route}))})}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(x.T),_.Y36(I.F0),_.Y36(I.gz))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-add-device"]],viewQuery:function(e,t){if(1&e&&_.Gf(s_,5),2&e){let i;_.iGM(i=_.CRH())&&(t.deviceProtocols=i.first)}},decls:54,vars:22,consts:function(){let s,e,t,i,o,c,d,D,C,A,M,T,f,L,v;return s="Add Device Wizard",e="SelectDeviceService",t="SelectDeviceProfile",i="DevicePrimary",o="CreateAutoEvent",c="CreateDeviceProtocol",d="Previous",D="Next",C="Submit",A="Name",M="the device name can't be empty!",T="Description",f="Labels",L="AdminState",v=" this step is optional, you can skip it then set it later in edit mode.",[[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"fa","fa-lightbulb-o","fa-lg","mr-2","text-danger"],[1,"text-secondary"],s,[1,"card-header","py-2"],["aria-label","breadcrumb",1,"mb-0","p-0"],[1,"breadcrumb","p-1","mb-0","bg-light"],[1,"breadcrumb-item"],[3,"ngClass"],e,["class","fa fa-check ml-1",4,"ngIf"],t,i,o,[1,"breadcrumb-item","active"],c,[1,"card-header","py-1"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm float-right",3,"disabled","click",4,"ngIf","ngIfElse"],["stepDone",""],[1,"card-body","p-0"],[3,"ngSwitch"],[3,"ngSwitchCase"],["SelectDeviceService",""],["SelectDeviceProfile",""],["DevicePrimary",""],["CreateAutoEvent",""],["CreateDeviceProtocol",""],[1,"card","border-0"],[1,"card-body"],[3,"mode","isValid","isValidChange"],[1,"fa","fa-check","ml-1"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-long-arrow-left","mr-1"],d,[1,"btn","btn-primary","btn-sm","float-right",3,"disabled","click"],D,[1,"fa","fa-long-arrow-right","ml-1"],[1,"btn","btn-success","btn-sm","ml-4","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],C,[1,"p-2"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"singleProfileSelected","enableSelectAll","toolbars","associatedDeviceColumn","singleProfileSelectedEvent"],[1,"px-5","py-4"],[1,"form-group","row","has-validation"],["for","deviceName","required","",1,"col-md-2","col-form-label"],A,[1,"col-md-10"],["type","text","id","validationDeviceNameFeedback","name","deviceName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationDeviceNameFeedback",1,"invalid-feedback"],M,[1,"form-group","row"],["for","deviceDesc",1,"col-md-2","col-form-label"],T,["type","text","name","deviceDescription",1,"form-control",3,"ngModel","ngModelChange"],["for","deviceLabels",1,"col-md-2","col-form-label"],f,["type","text","name","deviceLabels","placeholder","Multiple Labels are separated by commas: label1,label2,label3",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],L,["name","deviceAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],[1,"fa","fa-info-circle","text-warning","font-weight-bold"],v,[3,"deviceProfile","autoEvents","isValid","autoEventsChange","isValidChange"]]},template:function(e,t){if(1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"span",2),_._UZ(3,"span",3),_.TgZ(4,"span",4),_.SDv(5,5),_.qZA(),_.qZA(),_.qZA(),_.TgZ(6,"div",6),_.TgZ(7,"nav",7),_.TgZ(8,"ol",8),_.TgZ(9,"li",9),_.TgZ(10,"span",10),_.TgZ(11,"span"),_.SDv(12,11),_.qZA(),_.YNc(13,re,1,0,"i",12),_.qZA(),_.qZA(),_.TgZ(14,"li",9),_.TgZ(15,"span",10),_.TgZ(16,"span"),_.SDv(17,13),_.qZA(),_.YNc(18,de,1,0,"i",12),_.qZA(),_.qZA(),_.TgZ(19,"li",9),_.TgZ(20,"span",10),_.TgZ(21,"span"),_.SDv(22,14),_.qZA(),_.YNc(23,Te,1,0,"i",12),_.qZA(),_.qZA(),_.TgZ(24,"li",9),_.TgZ(25,"span",10),_.TgZ(26,"span"),_.SDv(27,15),_.qZA(),_.YNc(28,Ie,1,0,"i",12),_.qZA(),_.qZA(),_.TgZ(29,"li",16),_.TgZ(30,"span",10),_.TgZ(31,"span"),_.SDv(32,17),_.qZA(),_.YNc(33,Se,1,0,"i",12),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(34,"div",18),_.YNc(35,Ce,4,0,"button",19),_.YNc(36,Ae,4,1,"button",20),_.YNc(37,Oe,4,1,"ng-template",null,21,_.W1O),_.qZA(),_.TgZ(39,"div",22),_.TgZ(40,"div",23),_.YNc(41,ge,2,1,"ng-template",24,25,_.W1O),_.YNc(43,De,2,4,"ng-template",24,26,_.W1O),_.YNc(45,pe,28,8,"ng-template",24,27,_.W1O),_.YNc(47,fe,6,3,"ng-template",24,28,_.W1O),_.TgZ(49,"div",null,29),_.TgZ(51,"div",30),_.TgZ(52,"div",31),_.TgZ(53,"app-device-protocol",32),_.NdJ("isValidChange",function(o){return t.isProtocolValid=o}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e){const i=_.MAs(38);_.xp6(10),_.Q6J("ngClass",t.currentStep>=0?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=1),_.xp6(2),_.Q6J("ngClass",t.currentStep>=1?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=2),_.xp6(2),_.Q6J("ngClass",t.currentStep>=2?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=3),_.xp6(2),_.Q6J("ngClass",t.currentStep>=3?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=4),_.xp6(2),_.Q6J("ngClass",t.currentStep>=4?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=5),_.xp6(2),_.Q6J("ngIf",t.currentStep),_.xp6(1),_.Q6J("ngIf",4>t.currentStep)("ngIfElse",i),_.xp6(4),_.Q6J("ngSwitch",t.currentStep),_.xp6(1),_.Q6J("ngSwitchCase",0),_.xp6(2),_.Q6J("ngSwitchCase",1),_.xp6(2),_.Q6J("ngSwitchCase",2),_.xp6(2),_.Q6J("ngSwitchCase",3),_.xp6(2),_.Udp("display",4===t.currentStep?"":"none"),_.xp6(4),_.Q6J("mode","add")("isValid",t.isProtocolValid)}},directives:[n.mk,n.O5,n.RF,n.n9,s_,c_,F.f,a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.EJ,a.YN,a.Kr,r_],styles:['.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{color:inherit;font-weight:inherit;content:">>";padding:0 5px}.btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}']}),E})();function ve(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",1),_.TgZ(1,"div",2),_._UZ(2,"i",3),_.TgZ(3,"span",4),_.SDv(4,5),_.qZA(),_.TgZ(5,"span",6),_._uU(6),_.qZA(),_.TgZ(7,"button",7),_.NdJ("click",function(){return _.CHM(e),_.oxw().save()}),_.TgZ(8,"span"),_._UZ(9,"i",8),_.TgZ(10,"span"),_.SDv(11,9),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(12,"div",10),_.TgZ(13,"div",11),_.TgZ(14,"div",2),_._UZ(15,"i",12),_.TgZ(16,"span"),_.SDv(17,13),_.qZA(),_.qZA(),_.TgZ(18,"div",10),_.TgZ(19,"form"),_.TgZ(20,"div",14),_.TgZ(21,"label",15),_.SDv(22,16),_.qZA(),_.TgZ(23,"div",17),_.TgZ(24,"input",18),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().device.name=i}),_.qZA(),_.TgZ(25,"div",19),_.SDv(26,20),_.qZA(),_.qZA(),_.qZA(),_.TgZ(27,"div",14),_.TgZ(28,"label",15),_.SDv(29,21),_.qZA(),_.TgZ(30,"div",17),_.TgZ(31,"input",22),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().device.description=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div",14),_.TgZ(33,"label",15),_.SDv(34,23),_.qZA(),_.TgZ(35,"div",17),_.TgZ(36,"input",24),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().deviceLabels=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(37,"div",14),_.TgZ(38,"label",25),_.SDv(39,26),_.qZA(),_.TgZ(40,"div",17),_.TgZ(41,"select",27),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().device.adminState=i}),_.TgZ(42,"option",28),_._uU(43,"UNLOCKED"),_.qZA(),_.TgZ(44,"option",29),_._uU(45,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(46,"div",14),_.TgZ(47,"label",30),_.SDv(48,31),_.qZA(),_.TgZ(49,"div",17),_._UZ(50,"input",32),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(51,"div",33),_.TgZ(52,"app-device-service-list",34),_.NdJ("singleDeviceSvcSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleDeviceSvcSelected(i)}),_.qZA(),_.qZA(),_.TgZ(53,"div",33),_.TgZ(54,"app-device-profile-list",35),_.NdJ("singleProfileSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleProfileSelected(i)}),_.qZA(),_.qZA(),_.TgZ(55,"div",33),_.TgZ(56,"app-device-protocol",36),_.NdJ("isValidChange",function(i){return _.CHM(e),_.oxw().isProtocolValid=i}),_.qZA(),_.qZA(),_.TgZ(57,"div",33),_.TgZ(58,"app-device-auto-event",37),_.NdJ("autoEventsChange",function(i){return _.CHM(e),_.oxw().device.autoEvents=i})("isValidChange",function(i){return _.CHM(e),_.oxw().isAutoEventsValid=i}),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(6),_.Oqu(e.device.name),_.xp6(1),_.Q6J("disabled",e.validateBeforeSave()),_.xp6(17),_.ekj("is-invalid",""===e.device.name),_.Q6J("ngModel",e.device.name),_.xp6(7),_.Q6J("ngModel",e.device.description),_.xp6(5),_.Q6J("ngModel",e.deviceLabels),_.xp6(5),_.Q6J("ngModel",e.device.adminState),_.xp6(9),_.Q6J("value",e.device.operatingState),_.xp6(2),_.Q6J("deviceSvcSelected",e.selectedSvc),_.xp6(2),_.Q6J("enableSelectAll",!1)("toolbars",!1)("singleProfileSelected",e.selectedProfile)("associatedDeviceColumn",!1),_.xp6(2),_.Q6J("mode","edit")("deviceProtocols",e.device.protocols)("isValid",e.isProtocolValid),_.xp6(2),_.Q6J("deviceProfile",e.selectedProfile)("autoEvents",e.device.autoEvents)("isValid",e.isAutoEventsValid)}}let me=(()=>{class E{constructor(e,t,i,o,c){this.router=e,this.route=t,this.metaSvc=i,this.msgSvc=o,this.errorSvc=c,this.isProtocolValid=!0,this.isAutoEventsValid=!0}ngOnInit(){this.route.queryParams.subscribe(e=>{!e.deviceName||this.metaSvc.findDeviceByName(e.deviceName).subscribe(i=>{var o;this.device=i.device,this.deviceLabels=null===(o=this.device.labels)||void 0===o?void 0:o.join(","),this.setDefaultDeviceSvcSelected(this.device.serviceName),this.setDefaultDeviceProfileSelected(this.device.profileName)})})}onSingleProfileSelected(e){this.selectedProfile=e}onSingleDeviceSvcSelected(e){this.selectedSvc=e}setDefaultDeviceSvcSelected(e){this.metaSvc.findDevcieServiceByName(e).subscribe(t=>{this.selectedSvc=t.service})}setDefaultDeviceProfileSelected(e){this.metaSvc.findProfileByName(e).subscribe(t=>{this.selectedProfile=t.profile})}validateBeforeSave(){return""===this.device.name||!this.isAutoEventsValid||!this.isProtocolValid}save(){var e,t,i;this.device.labels=null===(e=this.deviceLabels)||void 0===e?void 0:e.split(","),this.device.serviceName=null===(t=this.selectedSvc)||void 0===t?void 0:t.name,this.device.profileName=null===(i=this.selectedProfile)||void 0===i?void 0:i.name,this.device.protocols=this.deviceProtocols.getDeviceProtocols(),this.metaSvc.updateDevice(this.device).subscribe(o=>{var c;this.errorSvc.handleErrorForAPI(o)||(this.msgSvc.success("update device",`name: ${null===(c=this.device)||void 0===c?void 0:c.name}`),this.router.navigate(["../device-list"],{relativeTo:this.route}))})}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(I.F0),_.Y36(I.gz),_.Y36(u.D),_.Y36(Z.e),_.Y36(x.T))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-edit-device"]],viewQuery:function(e,t){if(1&e&&_.Gf(s_,5),2&e){let i;_.iGM(i=_.CRH())&&(t.deviceProtocols=i.first)}},decls:1,vars:1,consts:function(){let s,e,t,i,o,c,d,D,C;return s="Edit Device",e="Save",t="Device Primary",i="DeviceName",o=" device name can't not be empty! ",c="Description",d="Labels",D="AdminState",C="OperatingState",[["class","card",4,"ngIf"],[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-edit","text-danger","fa-lg"],[1,"mx-2"],s,[1,"text-primary"],["type","button",1,"btn","btn-success","btn-sm","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],e,[1,"card-body"],[1,"card","mb-3"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],t,[1,"form-group","row"],[1,"col-md-2","col-form-label"],i,[1,"col-md-10"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],o,c,["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],d,["type","text","name","labels",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],D,["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","operatingState",1,"col-md-2","col-form-label"],C,["type","text","name","operatingState","disabled","",1,"form-control",3,"value"],[1,"mb-3"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"enableSelectAll","toolbars","singleProfileSelected","associatedDeviceColumn","singleProfileSelectedEvent"],[3,"mode","deviceProtocols","isValid","isValidChange"],[3,"deviceProfile","autoEvents","isValid","autoEventsChange","isValidChange"]]},template:function(e,t){1&e&&_.YNc(0,ve,59,20,"div",0),2&e&&_.Q6J("ngIf",t.device)},directives:[n.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On,a.EJ,a.YN,a.Kr,c_,F.f,s_,r_],styles:["input[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}.btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),E})(),Pe=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-device-profile-center"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[I.lC],styles:[""]}),E})(),Me=(()=>{class E{constructor(e,t,i,o,c){this.metaSvc=e,this.msgSvc=t,this.errSvc=i,this.router=o,this.route=c}ngOnInit(){this.renderYamlSource()}renderYamlSource(){let e=document.getElementById("editor");this.codeMirrorEditor=CodeMirror.fromTextArea(e,{mode:"yaml",theme:"gruvbox-dark",foldGutter:!0,smartIndent:!0,showCursorWhenSelecting:!0,lineNumbers:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],autofocus:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,cursorHeight:.85,autocorrect:!0}),this.codeMirrorEditor.setSize("auto","600px"),this.codeMirrorEditor.on("drop",(t,i)=>{var o;this.yamlFile=null===(o=i.dataTransfer)||void 0===o?void 0:o.files[0]}),this.codeMirrorEditor.on("paste",(t,i)=>{})}submit(){this.profileYamlSource=this.codeMirrorEditor.getValue(),this.metaSvc.addProfileYamlByNameViaUIBackend(this.profileYamlSource).subscribe(e=>{this.errSvc.handleErrorForAPI(e)||(this.msgSvc.success("Add profile"),this.router.navigate(["../device-profile-list"],{relativeTo:this.route}))})}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(x.T),_.Y36(I.F0),_.Y36(I.gz))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-add-profile"]],decls:15,vars:0,consts:function(){let s,e,t;return s="Add Profile",e="\xA0drag-and-drop is enabled",t="Submit",[[1,"card"],[1,"card-header"],[1,"text-danger","font-weight-bold","fa","fa-code","mr-2"],[1,"mr-3","font-weight-bold"],s,[1,"fa","fa-info-circle","text-success","font-weight-bold"],e,[1,"float-right"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save","mr-1"],t,[1,"card-body","p-0"],["id","editor","name","editor"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"span"),_._UZ(3,"span",2),_.TgZ(4,"span",3),_.SDv(5,4),_.qZA(),_.TgZ(6,"span",5),_.SDv(7,6),_.qZA(),_.qZA(),_.TgZ(8,"span",7),_.TgZ(9,"button",8),_.NdJ("click",function(){return t.submit()}),_._UZ(10,"i",9),_.TgZ(11,"span"),_.SDv(12,10),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(13,"div",11),_._UZ(14,"textarea",12),_.qZA(),_.qZA())},styles:[""]}),E})(),Re=(()=>{class E{constructor(e,t,i,o,c){this.metaSvc=e,this.msgSvc=t,this.errSvc=i,this.router=o,this.route=c}ngOnInit(){this.renderYamlSource(),this.route.queryParams.subscribe(e=>{e.profileName&&(this.profileName=e.profileName,this.metaSvc.findProfileYamlByNameViaUIBackend(e.profileName).subscribe(t=>{this.codeMirrorEditor.setValue(t),this.codeMirrorEditor.refresh()}))})}update(){this.codeMirrorEditor.refresh(),this.metaSvc.updateProfileYamlContentViaUIBackend(this.codeMirrorEditor.getValue()).subscribe(e=>{this.errSvc.handleErrorForAPI(e)||(this.msgSvc.success("Update profile",`name: ${this.profileName}`),this.router.navigate(["../device-profile-list"],{relativeTo:this.route}))})}renderYamlSource(){let e=document.getElementById("editor-edit");this.codeMirrorEditor=CodeMirror.fromTextArea(e,{mode:"yaml",theme:"gruvbox-dark",foldGutter:!0,smartIndent:!0,showCursorWhenSelecting:!0,lineNumbers:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],autofocus:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,cursorHeight:.85,autocorrect:!0}),this.codeMirrorEditor.setSize("auto","600px")}ngOnDestroy(){this.codeMirrorEditor=null}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(x.T),_.Y36(I.F0),_.Y36(I.gz))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-edit-profile"]],decls:13,vars:1,consts:function(){let s;return s="Save",[[1,"card"],[1,"card-header"],[1,"text-danger","fa","fa-edit","mr-2"],[1,"float-right"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save","mr-1"],s,[1,"card-body","p-0"],["id","editor-edit","name","editor"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"span"),_._UZ(3,"span",2),_._uU(4),_.qZA(),_.TgZ(5,"span",3),_.TgZ(6,"button",4),_.NdJ("click",function(){return t.update()}),_.TgZ(7,"span"),_._UZ(8,"i",5),_.TgZ(9,"span"),_.SDv(10,6),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(11,"div",7),_._UZ(12,"textarea",8),_.qZA(),_.qZA()),2&e&&(_.xp6(4),_.hij("",t.profileName," "))},styles:[""]}),E})(),Ne=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-provision-watcher-center"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[I.lC],styles:[""]}),E})();function he(E,s){if(1&E&&(_.TgZ(0,"span",72),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function Ve(E,s){if(1&E&&(_.TgZ(0,"span",73),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.adminState)}}function Le(E,s){if(1&E&&(_.TgZ(0,"span",72),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.discoveredDevice.adminState)}}function Ze(E,s){if(1&E&&(_.TgZ(0,"span",73),_._uU(1),_.qZA()),2&E){const e=_.oxw().$implicit;_.xp6(1),_.Oqu(e.discoveredDevice.adminState)}}const Ge=function(E){return{profileName:E}};function be(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"input",23),_.NdJ("click",function(i){const c=_.CHM(e).$implicit;return _.oxw().selectOne(i,c)}),_.qZA(),_.qZA(),_.TgZ(3,"td",66),_._uU(4),_.qZA(),_.TgZ(5,"td",66),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_.TgZ(10,"span",67),_.YNc(11,he,2,1,"span",68),_.YNc(12,Ve,2,1,"span",69),_.qZA(),_.qZA(),_.TgZ(13,"td"),_.TgZ(14,"span",67),_.YNc(15,Le,2,1,"span",68),_.YNc(16,Ze,2,1,"span",69),_.qZA(),_.qZA(),_.TgZ(17,"td"),_.TgZ(18,"a",70),_._uU(19),_.qZA(),_.qZA(),_.TgZ(20,"td"),_.TgZ(21,"a",71),_._uU(22),_.qZA(),_.qZA(),_.TgZ(23,"td"),_._uU(24),_.qZA(),_.TgZ(25,"td"),_._uU(26),_.qZA(),_.TgZ(27,"td"),_._uU(28),_.ALo(29,"json"),_.qZA(),_.qZA()}if(2&E){const e=s.$implicit,t=_.oxw();_.ekj("table-active",t.isChecked(e.id)||t.specialFeatureAssociatedProvisionWatcherName===e.name),_.xp6(2),_.Q6J("checked",t.isChecked(e.id)),_.xp6(2),_.Oqu(e.id),_.xp6(2),_.Oqu(e.name),_.xp6(2),_.Oqu(e.labels),_.xp6(2),_.Q6J("ngSwitch",e.adminState),_.xp6(1),_.Q6J("ngSwitchCase","UNLOCKED"),_.xp6(3),_.Q6J("ngSwitch",e.discoveredDevice.adminState),_.xp6(1),_.Q6J("ngSwitchCase","UNLOCKED"),_.xp6(3),_.Q6J("queryParams",_.VKq(18,Ge,e.discoveredDevice.profileName)),_.xp6(1),_.Oqu(e.discoveredDevice.profileName),_.xp6(3),_.Oqu(e.serviceName),_.xp6(2),_.Oqu(e.identifiers.address),_.xp6(2),_.Oqu(e.identifiers.port),_.xp6(2),_.Oqu(_.lcZ(29,16,e.blockingIdentifiers))}}let Xe=(()=>{class E{constructor(e,t,i,o){this.metaSvc=e,this.msgSvc=t,this.route=i,this.router=o,this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit,this.provisionWatcherList=[],this.selectedProvisionWatcher=[]}ngOnInit(){this.route.queryParams.subscribe(e=>{this.getProvisionWatcherListPagination()})}getProvisionWatcherList(){this.getProvisionWatcherListPagination()}getProvisionWatcherListPagination(){this.metaSvc.allProvisionWatchersPagination(this.pageOffset,this.pageLimit).subscribe(e=>{this.provisionWatcherList=e.provisionWatchers})}edit(){this.router.navigate(["../edit-provision-watcher"],{relativeTo:this.route,queryParams:{provisionWatcherName:this.selectedProvisionWatcher[0].name}})}selectAll(e){this.provisionWatcherList.forEach(e.target.checked?i=>{-1===this.selectedProvisionWatcher.findIndex(o=>o.name===i.name)&&this.selectedProvisionWatcher.push(i)}:i=>{this.selectedProvisionWatcher.forEach((o,c)=>{o.name===i.name&&this.selectedProvisionWatcher.splice(c,1)})})}selectOne(e,t){e.target.checked?this.selectedProvisionWatcher.push(t):this.selectedProvisionWatcher.forEach((o,c)=>{o.name===t.name&&this.selectedProvisionWatcher.splice(c,1)})}isChecked(e){return this.selectedProvisionWatcher.findIndex(t=>t.id===e)>=0}isCheckedAll(){let e=!0;return this.provisionWatcherList&&0===this.provisionWatcherList.length&&(e=!1),this.provisionWatcherList.forEach(t=>{-1===this.selectedProvisionWatcher.findIndex(i=>i.name===t.name)&&(e=!1)}),e}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}refresh(){this.metaSvc.allProvisionWatchersPagination(0,this.pageLimit).subscribe(e=>{this.provisionWatcherList=e.provisionWatchers,this.msgSvc.success("refresh"),this.resetPagination()})}delete(){this.selectedProvisionWatcher.forEach((e,t)=>{this.metaSvc.deleteOneProvisionWatcherByName(e.name).subscribe(()=>{this.selectedProvisionWatcher.splice(t,1),this.provisionWatcherList.forEach((i,o)=>{if(i.id===e.id)return this.provisionWatcherList.splice(o,1),void this.msgSvc.success("remove provisionWatcher ",` Name: ${i.name}`)})})}),this.specialFeatureName=void 0,$("#deleteConfirmDialog").modal("hide")}onPageSelected(){this.resetPagination(),this.getProvisionWatcherList()}prePage(){this.setPagination(-1),this.getProvisionWatcherList()}nextPage(){this.setPagination(1),this.getProvisionWatcherList()}setPagination(e){1===e?this.pagination+=1:-1===e&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit}resetPagination(){this.pagination=1,this.pageOffset=(this.pagination-1)*this.pageLimit}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(I.gz),_.Y36(I.F0))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-provision-watcher-list"]],decls:95,vars:7,consts:function(){let s,e,t,i,o,c,d,D,C,A,M,T,f,L,v,S,y,Q,Y,B,K;return s="Device Profile List",e="Refresh",t="Add",i="Edit",o="Delete",c="Name",d="Labels",D="AdminState",C="DiscoveredDeviceAdminState",A="DiscoveredDeviceProfileName",M="ServiceName",T="IdentifiersAddress",f="IdentifiersPort",L="BlockingIdentifiers",v="items per page",S="Previous",y="Next",Q="Warning",Y=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",B="Cancel",K="Confirm",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","text-danger","mr-2"],s,[1,"card-body","p-0"],[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],["data-testid","device-list-refresh-btn",1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],e,["type","button","routerLink","../add-provision-watcher",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],t,["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],i,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],o,[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox","role","button",3,"checked","click"],c,d,D,C,A,M,T,f,L,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],v,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],S,[1,"page-item"],y,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],Q,[1,"modal-body"],Y,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],B,["type","button",1,"btn","btn-danger",3,"click"],K,[1,"user-select-all"],[3,"ngSwitch"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchDefault"],["routerLink","../../device-profile-center",3,"queryParams"],["routerLink","../../device-service-list"],[1,"badge","badge-success"],[1,"badge","badge-danger"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_._UZ(2,"i",2),_.TgZ(3,"span"),_.SDv(4,3),_.qZA(),_.qZA(),_.TgZ(5,"div",4),_.TgZ(6,"div",5),_.TgZ(7,"div",6),_.TgZ(8,"button",7),_.NdJ("click",function(){return t.refresh()}),_.TgZ(9,"span"),_._UZ(10,"i",8),_.TgZ(11,"span"),_.SDv(12,9),_.qZA(),_.qZA(),_.qZA(),_.TgZ(13,"button",10),_.TgZ(14,"span"),_._UZ(15,"i",11),_.TgZ(16,"span"),_.SDv(17,12),_.qZA(),_.qZA(),_.qZA(),_.TgZ(18,"button",13),_.NdJ("click",function(){return t.edit()}),_.TgZ(19,"span"),_._UZ(20,"i",14),_.TgZ(21,"span"),_.SDv(22,15),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"button",16),_.NdJ("click",function(){return t.deleteConfirm()}),_.TgZ(24,"span"),_._UZ(25,"i",17),_.TgZ(26,"span"),_.SDv(27,18),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",19),_.TgZ(29,"table",20),_.TgZ(30,"thead",21),_.TgZ(31,"tr"),_.TgZ(32,"th",22),_.TgZ(33,"input",23),_.NdJ("click",function(o){return t.selectAll(o)}),_.qZA(),_.qZA(),_.TgZ(34,"th",22),_._uU(35,"ID"),_.qZA(),_.TgZ(36,"th",22),_.SDv(37,24),_.qZA(),_.TgZ(38,"th",22),_.SDv(39,25),_.qZA(),_.TgZ(40,"th",22),_.SDv(41,26),_.qZA(),_.TgZ(42,"th",22),_.SDv(43,27),_.qZA(),_.TgZ(44,"th",22),_.SDv(45,28),_.qZA(),_.TgZ(46,"th",22),_.SDv(47,29),_.qZA(),_.TgZ(48,"th",22),_.SDv(49,30),_.qZA(),_.TgZ(50,"th",22),_.SDv(51,31),_.qZA(),_.TgZ(52,"th",22),_.SDv(53,32),_.qZA(),_.qZA(),_.qZA(),_.TgZ(54,"tbody"),_.YNc(55,be,30,20,"tr",33),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(56,"div",34),_.TgZ(57,"nav",35),_.TgZ(58,"ul",36),_.TgZ(59,"li",37),_.TgZ(60,"span",38),_.SDv(61,39),_.qZA(),_.qZA(),_.TgZ(62,"li",40),_.TgZ(63,"select",41),_.NdJ("ngModelChange",function(o){return t.pageLimit=o})("ngModelChange",function(){return t.onPageSelected()}),_.TgZ(64,"option",42),_._uU(65,"5"),_.qZA(),_.TgZ(66,"option",43),_._uU(67,"10"),_.qZA(),_.TgZ(68,"option",44),_._uU(69,"20"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(70,"li",45),_.TgZ(71,"button",46),_.NdJ("click",function(){return t.prePage()}),_._UZ(72,"i",47),_.TgZ(73,"span"),_.SDv(74,48),_.qZA(),_.qZA(),_.qZA(),_.TgZ(75,"li",49),_.TgZ(76,"button",46),_.NdJ("click",function(){return t.nextPage()}),_.TgZ(77,"span"),_.SDv(78,50),_.qZA(),_._UZ(79,"i",51),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(80,"div",52),_.TgZ(81,"div",53),_.TgZ(82,"div",54),_.TgZ(83,"div",55),_.TgZ(84,"h5",56),_._UZ(85,"i",57),_.TgZ(86,"span"),_.SDv(87,58),_.qZA(),_.qZA(),_.qZA(),_.TgZ(88,"div",59),_.SDv(89,60),_.qZA(),_.TgZ(90,"div",61),_.TgZ(91,"button",62),_.SDv(92,63),_.qZA(),_.TgZ(93,"button",64),_.NdJ("click",function(){return t.delete()}),_.SDv(94,65),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(18),_.Q6J("disabled",1!==t.selectedProvisionWatcher.length),_.xp6(5),_.Q6J("disabled",0===t.selectedProvisionWatcher.length),_.xp6(10),_.Q6J("checked",t.isCheckedAll()),_.xp6(22),_.Q6J("ngForOf",t.provisionWatcherList),_.xp6(8),_.Q6J("ngModel",t.pageLimit),_.xp6(8),_.Q6J("disabled",1===t.pagination),_.xp6(5),_.Q6J("disabled",t.pageLimit>t.provisionWatcherList.length))},directives:[I.rH,n.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr,n.RF,n.n9,n.ED,I.yS],pipes:[n.Ts],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),E})();function Ue(E,s){1&E&&_._UZ(0,"i",25)}function $e(E,s){1&E&&_._UZ(0,"i",25)}function We(E,s){1&E&&_._UZ(0,"i",25)}function qe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",26),_.NdJ("click",function(){return _.CHM(e),_.oxw().previous()}),_._UZ(1,"i",27),_.TgZ(2,"span"),_.SDv(3,28),_.qZA(),_.qZA()}}function xe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",29),_.NdJ("click",function(){return _.CHM(e),_.oxw().next()}),_.TgZ(1,"span"),_.SDv(2,30),_.qZA(),_._UZ(3,"i",31),_.qZA()}if(2&E){const e=_.oxw();_.Q6J("disabled",e.stepStateLock())}}function He(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"button",32),_.NdJ("click",function(){return _.CHM(e),_.oxw().submit()}),_._UZ(1,"i",33),_.TgZ(2,"span"),_.SDv(3,34),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.Q6J("disabled",e.stepStateLock())}}function Je(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",35),_.TgZ(1,"app-device-service-list",36),_.NdJ("singleDeviceSvcSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleDeviceSvcSelected(i)}),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(1),_.Q6J("deviceSvcSelected",e.selectedSvc)}}function Fe(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",35),_.TgZ(1,"app-device-profile-list",37),_.NdJ("singleProfileSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleProfileSelected(i)}),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(1),_.Q6J("singleProfileSelected",e.selectedProfile)("enableSelectAll",!1)("toolbars",!1)("associatedDeviceColumn",!1)}}function ye(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"form",38),_.TgZ(1,"div",39),_.TgZ(2,"label",40),_.SDv(3,41),_.qZA(),_.TgZ(4,"div",42),_.TgZ(5,"input",43),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().newProvisionWatcher.name=i}),_.qZA(),_.TgZ(6,"div",44),_.TgZ(7,"small"),_.SDv(8,45),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(9,"div",46),_.TgZ(10,"label",47),_.SDv(11,48),_.qZA(),_.TgZ(12,"div",42),_.TgZ(13,"input",49),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcherLabels=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"div",46),_.TgZ(15,"label",50),_.SDv(16,51),_.qZA(),_.TgZ(17,"div",42),_.TgZ(18,"input",52),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcherBlockingIdentifiers=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"div",46),_.TgZ(20,"label",53),_.SDv(21,54),_.qZA(),_.TgZ(22,"div",42),_.TgZ(23,"input",55),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcherIdentifiersAddress=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(24,"div",46),_.TgZ(25,"label",56),_.SDv(26,57),_.qZA(),_.TgZ(27,"div",42),_.TgZ(28,"input",58),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcherIdentifiersPort=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"div",46),_.TgZ(30,"label",59),_.SDv(31,60),_.qZA(),_.TgZ(32,"div",42),_.TgZ(33,"select",61),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().newProvisionWatcher.adminState=i}),_.TgZ(34,"option",62),_._uU(35,"UNLOCKED"),_.qZA(),_.TgZ(36,"option",63),_._uU(37,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(38,"div",46),_.TgZ(39,"label",64),_.SDv(40,65),_.qZA(),_.TgZ(41,"div",42),_.TgZ(42,"select",66),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().newProvisionWatcher.discoveredDevice.adminState=i}),_.TgZ(43,"option",62),_._uU(44,"UNLOCKED"),_.qZA(),_.TgZ(45,"option",63),_._uU(46,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(5),_.ekj("is-invalid",!e.newProvisionWatcher.name)("is-valid",e.newProvisionWatcher.name),_.Q6J("ngModel",e.newProvisionWatcher.name),_.xp6(8),_.Q6J("ngModel",e.provisionWatcherLabels),_.xp6(5),_.Q6J("ngModel",e.provisionWatcherBlockingIdentifiers),_.xp6(5),_.Q6J("ngModel",e.provisionWatcherIdentifiersAddress),_.xp6(5),_.Q6J("ngModel",e.provisionWatcherIdentifiersPort),_.xp6(5),_.Q6J("ngModel",e.newProvisionWatcher.adminState),_.xp6(9),_.Q6J("ngModel",e.newProvisionWatcher.discoveredDevice.adminState)}}let Qe=(()=>{class E{constructor(e,t,i,o,c){this.metaSvc=e,this.msgSvc=t,this.errorSvc=i,this.router=o,this.route=c,this.currentStep=0,this.selectedClass="text-white rounded px-2 bg-success  font-weight-bold",this.noSelectedClass="text-white rounded px-2 bg-secondary  font-weight-bold",this.isProtocolValid=!1,this.isAutoEventsValid=!1,this.provisionWatcherLabels="",this.provisionWatcherBlockingIdentifiers="",this.provisionWatcherIdentifiersAddress="",this.provisionWatcherIdentifiersPort="",this.newProvisionWatcher={name:"",serviceName:"",adminState:"LOCKED",labels:[],identifiers:{address:"",port:""},blockingIdentifiers:{port:[]},discoveredDevice:{adminState:"LOCKED",profileName:""}}}ngOnInit(){}onSingleDeviceSvcSelected(e){this.selectedSvc=e}onSingleProfileSelected(e){this.selectedProfile=e}submit(){var e,t,i,o;this.newProvisionWatcher.labels=null===(e=this.provisionWatcherLabels)||void 0===e?void 0:e.split(","),this.newProvisionWatcher.serviceName=null===(t=this.selectedSvc)||void 0===t?void 0:t.name,this.newProvisionWatcher.discoveredDevice.profileName=null===(i=this.selectedProfile)||void 0===i?void 0:i.name,this.newProvisionWatcher.identifiers.address=this.provisionWatcherIdentifiersAddress,this.newProvisionWatcher.identifiers.port=this.provisionWatcherIdentifiersPort,this.newProvisionWatcher.blockingIdentifiers.port=null===(o=this.provisionWatcherBlockingIdentifiers)||void 0===o?void 0:o.split(","),this.metaSvc.addProvisionWatcher(this.newProvisionWatcher).subscribe(c=>{this.errorSvc.handleErrorForAPI(c)||(this.msgSvc.success("Add ProvisionWatcher",`name: ${this.newProvisionWatcher.name}`),this.router.navigate(["../provision-watcher-list"],{relativeTo:this.route}))})}next(){this.currentStep+=1}previous(){this.currentStep=this.currentStep-1}stepStateLock(){switch(this.currentStep){case 0:return void 0===this.selectedSvc;case 1:return void 0===this.selectedProfile;case 2:return!this.newProvisionWatcher.name;case 3:return!this.isAutoEventsValid;case 4:return!this.isProtocolValid;default:return!1}}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(u.D),_.Y36(Z.e),_.Y36(x.T),_.Y36(I.F0),_.Y36(I.gz))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-add-provision-watcher"]],decls:37,vars:13,consts:function(){let s,e,t,i,o,c,d,D,C,A,M,T,f,L,v;return s="Add Provision Watcher Wizard",e="SelectDeviceService",t="SelectDiscoveredDeviceProfile",i="ProvisionWatcherPrimary",o="Previous",c="Next",d="Submit",D="Name",C="the provision watcher name can't be empty!",A="Labels",M="BlockingIdentifiers",T="IdentifiersAddress",f="IdentifiersPort",L="AdminState",v="DiscoveredDevice AdminState",[[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"fa","fa-lightbulb-o","fa-lg","mr-2","text-danger"],[1,"text-secondary"],s,[1,"card-header","py-2"],["aria-label","breadcrumb",1,"mb-0","p-0"],[1,"breadcrumb","p-1","mb-0","bg-light"],[1,"breadcrumb-item"],[3,"ngClass"],e,["class","fa fa-check ml-1",4,"ngIf"],t,i,[1,"card-header","py-1"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm float-right",3,"disabled","click",4,"ngIf","ngIfElse"],["stepDone",""],[1,"card-body","p-0"],[3,"ngSwitch"],[3,"ngSwitchCase"],["SelectDeviceService",""],["SelectDeviceProfile",""],["DevicePrimary",""],[1,"fa","fa-check","ml-1"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-long-arrow-left","mr-1"],o,[1,"btn","btn-primary","btn-sm","float-right",3,"disabled","click"],c,[1,"fa","fa-long-arrow-right","ml-1"],[1,"btn","btn-success","btn-sm","ml-4","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],d,[1,"p-2"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"singleProfileSelected","enableSelectAll","toolbars","associatedDeviceColumn","singleProfileSelectedEvent"],[1,"px-5","py-4"],[1,"form-group","row","has-validation"],["for","provisionWatcherName","required","",1,"col-md-2","col-form-label"],D,[1,"col-md-10"],["type","text","id","validationProvisionWatcherNameFeedback","name","provisionWatcherName",1,"form-control",3,"ngModel","ngModelChange"],["id","validationProvisionWatcherNameFeedback",1,"invalid-feedback"],C,[1,"form-group","row"],["for","provisionWatcherLabels",1,"col-md-2","col-form-label"],A,["type","text","name","provisionWatcherLabels","placeholder","Multiple Labels are separated by commas: label1,label2,label3",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherBlockingIdentifiers",1,"col-md-2","col-form-label"],M,["type","text","name","provisionWatcherBlockingIdentifiers","placeholder","Multiple BlockingIdentifiers are separated by commas: port1,port2,port3",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherIdentifiersAddress",1,"col-md-2","col-form-label"],T,["type","text","name","provisionWatcherIdentifiersAddress",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherIdentifiersPort",1,"col-md-2","col-form-label"],f,["type","text","name","provisionWatcherIdentifiersPort",1,"form-control",3,"ngModel","ngModelChange"],["for","provisionWatcherAdminState",1,"col-md-2","col-form-label"],L,["name","provisionWatcherAdminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","provisionWatcherDiscoveredDeviceAdminState",1,"col-md-2","col-form-label"],v,["name","provisionWatcherDiscoveredDeviceAdminState",1,"custom-select",3,"ngModel","ngModelChange"]]},template:function(e,t){if(1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"span",2),_._UZ(3,"span",3),_.TgZ(4,"span",4),_.SDv(5,5),_.qZA(),_.qZA(),_.qZA(),_.TgZ(6,"div",6),_.TgZ(7,"nav",7),_.TgZ(8,"ol",8),_.TgZ(9,"li",9),_.TgZ(10,"span",10),_.TgZ(11,"span"),_.SDv(12,11),_.qZA(),_.YNc(13,Ue,1,0,"i",12),_.qZA(),_.qZA(),_.TgZ(14,"li",9),_.TgZ(15,"span",10),_.TgZ(16,"span"),_.SDv(17,13),_.qZA(),_.YNc(18,$e,1,0,"i",12),_.qZA(),_.qZA(),_.TgZ(19,"li",9),_.TgZ(20,"span",10),_.TgZ(21,"span"),_.SDv(22,14),_.qZA(),_.YNc(23,We,1,0,"i",12),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(24,"div",15),_.YNc(25,qe,4,0,"button",16),_.YNc(26,xe,4,1,"button",17),_.YNc(27,He,4,1,"ng-template",null,18,_.W1O),_.qZA(),_.TgZ(29,"div",19),_.TgZ(30,"div",20),_.YNc(31,Je,2,1,"ng-template",21,22,_.W1O),_.YNc(33,Fe,2,4,"ng-template",21,23,_.W1O),_.YNc(35,ye,47,11,"ng-template",21,24,_.W1O),_.qZA(),_.qZA(),_.qZA()),2&e){const i=_.MAs(28);_.xp6(10),_.Q6J("ngClass",t.currentStep>=0?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=1),_.xp6(2),_.Q6J("ngClass",t.currentStep>=1?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=2),_.xp6(2),_.Q6J("ngClass",t.currentStep>=2?t.selectedClass:t.noSelectedClass),_.xp6(3),_.Q6J("ngIf",t.currentStep>=3),_.xp6(2),_.Q6J("ngIf",t.currentStep),_.xp6(1),_.Q6J("ngIf",2>t.currentStep)("ngIfElse",i),_.xp6(4),_.Q6J("ngSwitch",t.currentStep),_.xp6(1),_.Q6J("ngSwitchCase",0),_.xp6(2),_.Q6J("ngSwitchCase",1),_.xp6(2),_.Q6J("ngSwitchCase",2)}},directives:[n.mk,n.O5,n.RF,n.n9,c_,F.f,a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.EJ,a.YN,a.Kr],styles:['.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{color:inherit;font-weight:inherit;content:">>";padding:0 5px}.btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}']}),E})();function Ye(E,s){if(1&E){const e=_.EpF();_.TgZ(0,"div",1),_.TgZ(1,"div",2),_._UZ(2,"i",3),_.TgZ(3,"span",4),_.SDv(4,5),_.qZA(),_.TgZ(5,"span",6),_._uU(6),_.qZA(),_.TgZ(7,"button",7),_.NdJ("click",function(){return _.CHM(e),_.oxw().save()}),_.TgZ(8,"span"),_._UZ(9,"i",8),_.TgZ(10,"span"),_.SDv(11,9),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(12,"div",10),_.TgZ(13,"div",11),_.TgZ(14,"div",2),_._UZ(15,"i",12),_.TgZ(16,"span"),_.SDv(17,13),_.qZA(),_.qZA(),_.TgZ(18,"div",10),_.TgZ(19,"form"),_.TgZ(20,"div",14),_.TgZ(21,"label",15),_.SDv(22,16),_.qZA(),_.TgZ(23,"div",17),_.TgZ(24,"input",18),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcher.name=i}),_.qZA(),_.TgZ(25,"div",19),_.SDv(26,20),_.qZA(),_.qZA(),_.qZA(),_.TgZ(27,"div",14),_.TgZ(28,"label",15),_.SDv(29,21),_.qZA(),_.TgZ(30,"div",17),_.TgZ(31,"input",22),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcherLabels=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div",14),_.TgZ(33,"label",23),_.SDv(34,24),_.qZA(),_.TgZ(35,"div",17),_.TgZ(36,"select",25),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcher.adminState=i}),_.TgZ(37,"option",26),_._uU(38,"UNLOCKED"),_.qZA(),_.TgZ(39,"option",27),_._uU(40,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(41,"div",14),_.TgZ(42,"label",28),_.SDv(43,29),_.qZA(),_.TgZ(44,"div",17),_.TgZ(45,"select",30),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcher.discoveredDevice.adminState=i}),_.TgZ(46,"option",26),_._uU(47,"UNLOCKED"),_.qZA(),_.TgZ(48,"option",27),_._uU(49,"LOCKED"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(50,"div",14),_.TgZ(51,"label",15),_.SDv(52,31),_.qZA(),_.TgZ(53,"div",17),_.TgZ(54,"input",32),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcher.identifiers.address=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(55,"div",14),_.TgZ(56,"label",15),_.SDv(57,33),_.qZA(),_.TgZ(58,"div",17),_.TgZ(59,"input",34),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().provisionWatcher.identifiers.port=i}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(60,"div",14),_.TgZ(61,"label",15),_.SDv(62,35),_.qZA(),_.TgZ(63,"div",17),_.TgZ(64,"input",36),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().blockingIdentifiers=i}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(65,"div",37),_.TgZ(66,"app-device-service-list",38),_.NdJ("singleDeviceSvcSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleDeviceSvcSelected(i)}),_.qZA(),_.qZA(),_.TgZ(67,"div",37),_.TgZ(68,"app-device-profile-list",39),_.NdJ("singleProfileSelectedEvent",function(i){return _.CHM(e),_.oxw().onSingleProfileSelected(i)}),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&E){const e=_.oxw();_.xp6(6),_.Oqu(e.provisionWatcher.name),_.xp6(1),_.Q6J("disabled",e.validateBeforeSave()),_.xp6(17),_.ekj("is-invalid",""===e.provisionWatcher.name),_.Q6J("ngModel",e.provisionWatcher.name),_.xp6(7),_.Q6J("ngModel",e.provisionWatcherLabels),_.xp6(5),_.Q6J("ngModel",e.provisionWatcher.adminState),_.xp6(9),_.Q6J("ngModel",e.provisionWatcher.discoveredDevice.adminState),_.xp6(9),_.Q6J("ngModel",e.provisionWatcher.identifiers.address),_.xp6(5),_.Q6J("ngModel",e.provisionWatcher.identifiers.port),_.xp6(5),_.Q6J("ngModel",e.blockingIdentifiers),_.xp6(2),_.Q6J("deviceSvcSelected",e.selectedSvc),_.xp6(2),_.Q6J("enableSelectAll",!1)("toolbars",!1)("singleProfileSelected",e.selectedProfile)("associatedDeviceColumn",!1)}}let Be=(()=>{class E{constructor(e,t,i,o,c){this.router=e,this.route=t,this.metaSvc=i,this.msgSvc=o,this.errorSvc=c}ngOnInit(){this.route.queryParams.subscribe(e=>{!e.provisionWatcherName||this.metaSvc.findProvisionWatcherByName(e.provisionWatcherName).subscribe(i=>{var o;this.provisionWatcher=i.provisionWatcher,this.provisionWatcherLabels=null===(o=this.provisionWatcher.labels)||void 0===o?void 0:o.join(","),this.blockingIdentifiers=JSON.stringify(i.provisionWatcher.blockingIdentifiers),this.setDefaultDeviceSvcSelected(this.provisionWatcher.serviceName),this.setDefaultDeviceProfileSelected(this.provisionWatcher.discoveredDevice.profileName)})})}setDefaultDeviceSvcSelected(e){this.metaSvc.findDevcieServiceByName(e).subscribe(t=>{this.selectedSvc=t.service})}onSingleProfileSelected(e){this.selectedProfile=e}onSingleDeviceSvcSelected(e){this.selectedSvc=e}setDefaultDeviceProfileSelected(e){this.metaSvc.findProfileByName(e).subscribe(t=>{this.selectedProfile=t.profile})}validateBeforeSave(){return""===this.provisionWatcher.name}save(){var e,t,i;this.provisionWatcher.labels=null===(e=this.provisionWatcherLabels)||void 0===e?void 0:e.split(","),this.provisionWatcher.serviceName=null===(t=this.selectedSvc)||void 0===t?void 0:t.name,this.provisionWatcher.discoveredDevice.profileName=null===(i=this.selectedProfile)||void 0===i?void 0:i.name,this.metaSvc.updateProvisionWatcher(this.provisionWatcher).subscribe(o=>{var c;this.errorSvc.handleErrorForAPI(o)||(this.msgSvc.success("update ProvisionWatcher",`name: ${null===(c=this.provisionWatcher)||void 0===c?void 0:c.name}`),this.router.navigate(["../provision-watcher-list"],{relativeTo:this.route}))})}}return E.\u0275fac=function(e){return new(e||E)(_.Y36(I.F0),_.Y36(I.gz),_.Y36(u.D),_.Y36(Z.e),_.Y36(x.T))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-edit-provision-watcher"]],decls:1,vars:1,consts:function(){let s,e,t,i,o,c,d,D,C,A,M;return s="Edit ProvisionWatcher",e="Save",t="ProvisionWatcher Primary",i="ProvisionWatcherName",o=" device name can't not be empty! ",c="Labels",d="AdminState",D="DiscoveredDeviceAdminState",C="IdentifiersAddress",A="IdentifiersPort",M="BlockingIdentifiers",[["class","card",4,"ngIf"],[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-edit","text-danger","fa-lg"],[1,"mx-2"],s,[1,"text-primary"],["type","button",1,"btn","btn-success","btn-sm","float-right",3,"disabled","click"],[1,"fa","fa-save","mr-1"],e,[1,"card-body"],[1,"card","mb-3"],[1,"fa","fa-tags","fa-lg","text-danger","mr-1"],t,[1,"form-group","row"],[1,"col-md-2","col-form-label"],i,[1,"col-md-10"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],o,c,["type","text","name","labels",1,"form-control",3,"ngModel","ngModelChange"],["for","adminState",1,"col-md-2","col-form-label"],d,["name","adminState",1,"custom-select",3,"ngModel","ngModelChange"],["value","UNLOCKED"],["value","LOCKED"],["for","discoveredDeviceadminState",1,"col-md-2","col-form-label"],D,["name","discoveredDevice.adminState",1,"custom-select",3,"ngModel","ngModelChange"],C,["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],A,["type","text","name","port",1,"form-control",3,"ngModel","ngModelChange"],M,["type","text","name","blockingIdentifiers",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"deviceSvcSelected","singleDeviceSvcSelectedEvent"],[3,"enableSelectAll","toolbars","singleProfileSelected","associatedDeviceColumn","singleProfileSelectedEvent"]]},template:function(e,t){1&e&&_.YNc(0,Ye,69,16,"div",0),2&e&&_.Q6J("ngIf",t.provisionWatcher)},directives:[n.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On,a.EJ,a.YN,a.Kr,c_,F.f],styles:[""]}),E})();var Ke=g(8253),we=g(1964),ke=g(4294),ze=g(5894),je=g(7216);let d_=(()=>{class E{constructor(e,t){this.router=e,this.metadataSvc=t}canActivate(e,t){return this.checkAvailable(e,t)}canActivateChild(e,t){return this.canActivate(e,t)}checkAvailable(e,t){return this.metadataSvc.ping().pipe((0,ke.q)(1),(0,ze.K)(i=>this.router.navigate(["/svc-unavailable"],{queryParams:{svcName:"metadata",routerPath:`/${t.url.split("/")[1]}`}})),(0,je.z)(()=>(0,we.of)(!0)))}}return E.\u0275fac=function(e){return new(e||E)(_.LFG(I.F0),_.LFG(u.D))},E.\u0275prov=_.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const _t=[{path:"",component:W,canActivate:[Ke.a,d_],canActivateChild:[d_],children:[{path:"",redirectTo:"device-service-list",pathMatch:"full"},{path:"device-service-list",component:G},{path:"device-center",component:l,children:[{path:"",redirectTo:"device-list",pathMatch:"full"},{path:"device-list",component:y_},{path:"add-device",component:ue},{path:"edit-device",component:me}]},{path:"device-profile-center",component:Pe,children:[{path:"",redirectTo:"device-profile-list",pathMatch:"full"},{path:"device-profile-list",component:F.f},{path:"edit-profile",component:Re},{path:"add-profile",component:Me}]},{path:"provision-watcher-center",component:Ne,children:[{path:"",redirectTo:"provision-watcher-list",pathMatch:"full"},{path:"provision-watcher-list",component:Xe},{path:"edit-provision-watcher",component:Be},{path:"add-provision-watcher",component:Qe}]}]}];let et=(()=>{class E{}return E.\u0275fac=function(e){return new(e||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[I.Bz.forChild(_t)],I.Bz]}),E})(),tt=(()=>{class E{}return E.\u0275fac=function(e){return new(e||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[n.ez,a.u5,et,a.UX]]}),E})()},2822:(l_,U,g)=>{g.d(U,{f:()=>a_});var n=g(476),a=g(2437),I=g(7822),_=g(9502),W=g(8583),u=g(3092);function Z(P,G){if(1&P){const l=n.EpF();n.TgZ(0,"div",50),n.TgZ(1,"div",51),n.TgZ(2,"button",52),n.NdJ("click",function(){return n.CHM(l),n.oxw().refresh()}),n.TgZ(3,"span"),n._UZ(4,"i",53),n.TgZ(5,"span"),n.SDv(6,54),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"button",55),n.TgZ(8,"span"),n._UZ(9,"i",56),n.TgZ(10,"span"),n.SDv(11,57),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"button",58),n.NdJ("click",function(){return n.CHM(l),n.oxw().edit()}),n.TgZ(13,"span"),n._UZ(14,"i",59),n.TgZ(15,"span"),n.SDv(16,60),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"button",61),n.NdJ("click",function(){return n.CHM(l),n.oxw().deleteConfirm()}),n.TgZ(18,"span"),n._UZ(19,"i",62),n.TgZ(20,"span"),n.SDv(21,63),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&P){const l=n.oxw();n.xp6(12),n.Q6J("disabled",1!==l.multiProfilesSelected.length),n.xp6(5),n.Q6J("disabled",0===l.multiProfilesSelected.length)}}function m(P,G){if(1&P){const l=n.EpF();n.TgZ(0,"input",64),n.NdJ("click",function(p){return n.CHM(l),n.oxw().selectAll(p)}),n.qZA()}if(2&P){const l=n.oxw();n.Q6J("checked",l.isCheckedAll())}}function N(P,G){1&P&&(n.TgZ(0,"th",9),n.SDv(1,65),n.qZA())}const V=function(P){return{profileName:P}};function X(P,G){if(1&P&&(n.TgZ(0,"td",69),n.TgZ(1,"a",70),n._UZ(2,"i",71),n.qZA(),n.qZA()),2&P){const l=n.oxw().$implicit;n.xp6(1),n.Q6J("queryParams",n.VKq(1,V,l.name))}}function H(P,G){if(1&P){const l=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"input",66),n.NdJ("click",function(p){const q=n.CHM(l).$implicit;return n.oxw().selectOne(p,q.name)}),n.qZA(),n.qZA(),n.TgZ(3,"td",67),n._uU(4),n.qZA(),n.TgZ(5,"td",67),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.YNc(9,X,3,3,"td",68),n.TgZ(10,"td"),n._uU(11),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.qZA(),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.qZA()}if(2&P){const l=G.$implicit,r=n.oxw();n.ekj("table-active",r.isChecked(l.name)),n.xp6(2),n.s9C("value",l.name),n.Q6J("checked",r.isChecked(l.name)),n.xp6(2),n.Oqu(l.id),n.xp6(2),n.Oqu(l.name),n.xp6(2),n.Oqu(l.description),n.xp6(1),n.Q6J("ngIf",r.associatedDeviceColumn),n.xp6(2),n.Oqu(l.labels),n.xp6(2),n.Oqu(l.manufacturer),n.xp6(2),n.Oqu(l.model)}}let a_=(()=>{class P{constructor(l,r,p,b){this.metaSvc=l,this.msgSvc=r,this.route=p,this.router=b,this.associatedDeviceColumn=!0,this.toolbars=!0,this.enableSelectAll=!0,this.singleProfileSelectedEvent=new n.vpe,this.multipleProfileSelectedEvent=new n.vpe,this.profileList=[],this.multiProfilesSelected=[],this.pagination=1,this.pageLimit=5,this.pageOffset=(this.pagination-1)*this.pageLimit}ngOnInit(){this.route.queryParams.subscribe(l=>{l.profileName?this.metaSvc.findProfileByName(l.profileName).subscribe(r=>{this.profileList=[],this.profileList.push(r.profile)}):this.findAllDeviceProfilesPagination()})}findAllDeviceProfilesPagination(){this.metaSvc.allDeviceProfolesPagination(this.pageOffset,this.pageLimit).subscribe(l=>{this.profileList=l.profiles})}onSingleProfileSelectedEmitter(){this.singleProfileSelectedEvent.emit(this.singleProfileSelected)}onMultipleProfileSelectedEmitter(){this.multipleProfileSelectedEvent.emit(this.multiProfilesSelected)}refresh(){this.metaSvc.allDeviceProfolesPagination(0,this.pageLimit).subscribe(l=>{this.profileList=l.profiles,this.msgSvc.success("refresh"),this.pagination=1,this.resetCheckbox()})}onPageSelected(){this.resetPagination(),this.setPagination(),this.findAllDeviceProfilesPagination()}prePage(){this.setPagination(-1),this.metaSvc.allDeviceProfolesPagination(this.pageOffset,this.pageLimit).subscribe(l=>{this.profileList=l.profiles})}nextPage(){this.setPagination(1),this.metaSvc.allDeviceProfolesPagination(this.pageOffset,this.pageLimit).subscribe(l=>{this.profileList=l.profiles})}setPageLimit(l){this.pageLimit=l}setPagination(l){1===l?this.pagination+=1:-1===l&&(this.pagination-=1),this.pageOffset=(this.pagination-1)*this.pageLimit,this.resetCheckbox()}resetPagination(){this.pagination=1,this.resetCheckbox()}resetCheckbox(){}edit(){this.router.navigate(["../edit-profile"],{relativeTo:this.route,queryParams:{profileName:this.multiProfilesSelected[0]}})}deleteConfirm(){$("#deleteConfirmDialog").modal("show")}delete(){this.multiProfilesSelected.forEach(l=>{this.metaSvc.deleteProfileByName(l).subscribe(()=>{this.multiProfilesSelected=[],this.profileList.forEach((r,p)=>{r.name==l&&(this.profileList.splice(p,1),this.msgSvc.success("delete",`  Name: ${r.name}`))})})}),$("#deleteConfirmDialog").modal("hide")}isSingleProfileChecked(l){var r;return(null===(r=this.singleProfileSelected)||void 0===r?void 0:r.name)===l}selectSingleProfile(l,r){l.target.checked?this.profileList.forEach(b=>{b.name===r&&(this.singleProfileSelected=b)}):this.singleProfileSelected=void 0,this.onSingleProfileSelectedEmitter()}isCheckedAll(){let l=!0;return this.profileList&&0===this.profileList.length&&(l=!1),this.profileList.forEach(r=>{-1===this.multiProfilesSelected.indexOf(r.name)&&(l=!1)}),l}selectAll(l){this.profileList.forEach(l.target.checked?p=>{this.multiProfilesSelected.includes(p.name)||this.multiProfilesSelected.push(p.name)}:p=>{this.multiProfilesSelected.includes(p.name)&&this.multiProfilesSelected.splice(this.multiProfilesSelected.indexOf(p.name),1)}),this.onMultipleProfileSelectedEmitter()}isChecked(l){return this.enableSelectAll?this.multiProfilesSelected.includes(l):this.isSingleProfileChecked(l)}selectOne(l,r){this.enableSelectAll?(l.target.checked?this.multiProfilesSelected.push(r):this.multiProfilesSelected.splice(this.multiProfilesSelected.indexOf(r),1),this.onMultipleProfileSelectedEmitter()):this.selectSingleProfile(l,r)}}return P.\u0275fac=function(l){return new(l||P)(n.Y36(a.D),n.Y36(I.e),n.Y36(_.gz),n.Y36(_.F0))},P.\u0275cmp=n.Xpm({type:P,selectors:[["app-device-profile-list"]],inputs:{associatedDeviceColumn:"associatedDeviceColumn",toolbars:"toolbars",enableSelectAll:"enableSelectAll",multiProfilesSelected:"multiProfilesSelected",singleProfileSelected:"singleProfileSelected"},outputs:{singleProfileSelectedEvent:"singleProfileSelectedEvent",multipleProfileSelectedEvent:"multipleProfileSelectedEvent"},decls:67,vars:7,consts:function(){let G,l,r,p,b,q,J,w,k,z,j,__,e_,t_,E_,i_,n_,o_;return G="Device Profile List",l="Name",r="Description",p="Labels",b="Manufacturer",q="Model",J="items per page",w="Previous",k="Next",z="Warning",j=" The data will be permanently erased!!! Are you sure to execute delete operation\uFF1F ",__="Cancel",e_="Confirm",t_="Refresh",E_="Add",i_="Edit",n_="Delete",o_="AssociatedDevice",[[1,"card"],[1,"card-header","font-weight-bold"],[1,"fa","fa-list","text-danger","mr-2"],G,[1,"card-body","p-0"],["class","bg-light px-2 py-2",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","text-truncate"],[1,"thead-light"],["scope","col"],["type","checkbox",3,"checked","click",4,"ngIf"],l,r,["scope","col",4,"ngIf"],p,b,q,[3,"table-active",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","p-1"],["aria-label","navigation"],[1,"pagination","justify-content-end","m-0"],[1,"page-item","mr-2","mt-1"],[1,"align-middle"],J,[1,"page-item","mr-2"],["name","pageLimit","id","pageLimit",1,"custom-select",3,"ngModel","ngModelChange"],["value","5"],["value","10"],["value","20"],[1,"page-item","mr-1"],[1,"page-link","btn",3,"disabled","click"],[1,"fa","fa-angle-double-left","mr-1"],w,[1,"page-item"],k,[1,"fa","fa-angle-double-right","ml-1"],["id","deleteConfirmDialog","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteConfirmDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmDialogLabel",1,"modal-title","text-danger"],[1,"fa","fa-warning","mr-1"],z,[1,"modal-body"],j,[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],__,["type","button",1,"btn","btn-danger",3,"click"],e_,[1,"bg-light","px-2","py-2"],["role","group",1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","mr-1"],t_,["type","button","routerLink","../add-profile",1,"btn","btn-info"],[1,"fa","fa-plus","mr-1"],E_,["type","button","data-toggle","tooltip","data-placement","top","title","only one should be selected",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-edit","mr-1"],i_,["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash","mr-1"],n_,["type","checkbox",3,"checked","click"],o_,["type","checkbox",3,"value","checked","click"],[1,"user-select-all"],["class","text-center",4,"ngIf"],[1,"text-center"],["routerLink","../../device-center",1,"badge","badge-pill","badge-primary",3,"queryParams"],[1,"fa","fa-sitemap"]]},template:function(l,r){1&l&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n._UZ(2,"i",2),n.TgZ(3,"span"),n.SDv(4,3),n.qZA(),n.qZA(),n.TgZ(5,"div",4),n.YNc(6,Z,22,2,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"table",7),n.TgZ(9,"thead",8),n.TgZ(10,"tr"),n.TgZ(11,"th",9),n.YNc(12,m,1,1,"input",10),n.qZA(),n.TgZ(13,"th",9),n._uU(14,"ID"),n.qZA(),n.TgZ(15,"th",9),n.SDv(16,11),n.qZA(),n.TgZ(17,"th",9),n.SDv(18,12),n.qZA(),n.YNc(19,N,2,0,"th",13),n.TgZ(20,"th",9),n.SDv(21,14),n.qZA(),n.TgZ(22,"th",9),n.SDv(23,15),n.qZA(),n.TgZ(24,"th",9),n.SDv(25,16),n.qZA(),n.qZA(),n.qZA(),n.TgZ(26,"tbody"),n.YNc(27,H,16,11,"tr",17),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(28,"div",18),n.TgZ(29,"nav",19),n.TgZ(30,"ul",20),n.TgZ(31,"li",21),n.TgZ(32,"span",22),n.SDv(33,23),n.qZA(),n.qZA(),n.TgZ(34,"li",24),n.TgZ(35,"select",25),n.NdJ("ngModelChange",function(b){return r.pageLimit=b})("ngModelChange",function(){return r.onPageSelected()}),n.TgZ(36,"option",26),n._uU(37,"5"),n.qZA(),n.TgZ(38,"option",27),n._uU(39,"10"),n.qZA(),n.TgZ(40,"option",28),n._uU(41,"20"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(42,"li",29),n.TgZ(43,"button",30),n.NdJ("click",function(){return r.prePage()}),n._UZ(44,"i",31),n.TgZ(45,"span"),n.SDv(46,32),n.qZA(),n.qZA(),n.qZA(),n.TgZ(47,"li",33),n.TgZ(48,"button",30),n.NdJ("click",function(){return r.nextPage()}),n.TgZ(49,"span"),n.SDv(50,34),n.qZA(),n._UZ(51,"i",35),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(52,"div",36),n.TgZ(53,"div",37),n.TgZ(54,"div",38),n.TgZ(55,"div",39),n.TgZ(56,"h5",40),n._UZ(57,"i",41),n.TgZ(58,"span"),n.SDv(59,42),n.qZA(),n.qZA(),n.qZA(),n.TgZ(60,"div",43),n.SDv(61,44),n.qZA(),n.TgZ(62,"div",45),n.TgZ(63,"button",46),n.SDv(64,47),n.qZA(),n.TgZ(65,"button",48),n.NdJ("click",function(){return r.delete()}),n.SDv(66,49),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&l&&(n.xp6(6),n.Q6J("ngIf",r.toolbars),n.xp6(6),n.Q6J("ngIf",r.enableSelectAll),n.xp6(7),n.Q6J("ngIf",r.associatedDeviceColumn),n.xp6(8),n.Q6J("ngForOf",r.profileList),n.xp6(8),n.Q6J("ngModel",r.pageLimit),n.xp6(8),n.Q6J("disabled",1===r.pagination),n.xp6(5),n.Q6J("disabled",r.pageLimit>r.profileList.length))},directives:[W.O5,W.sg,u.EJ,u.JJ,u.On,u.YN,u.Kr,_.rH,_.yS],styles:[".btn[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),P})()},7982:(l_,U,g)=>{g.d(U,{V:()=>W});var n=g(1841),a=g(5894),I=g(476),_=g(4889);let W=(()=>{class u{constructor(m,N){this.http=m,this.errorSvc=N,this.endpoint="/core-command",this.version="/api/v3",this.urlPrefix=`${this.endpoint}${this.version}`,this.endpointHealthUrl="/ping",this.versionUrl="/version",this.configUrl="/config",this.deviceCoreCommandListUrl=`${this.urlPrefix}/device/all`,this.commandsByDeviceIdUrl=`${this.urlPrefix}/device/`,this.commandsByDeviceNameUrl=`${this.urlPrefix}/device/name/`,this.issueCmdByDeviceNameAndCmdNameUrl=`${this.urlPrefix}/device/name/`,this.httpPostOrPutJSONOptions={headers:new n.WM({"Content-type":"application/json"})}}getConfig(){return this.http.get(`${this.urlPrefix}${this.configUrl}`).pipe((0,a.K)(N=>this.errorSvc.handleError(N)))}findCommnadsByDeviceId(m){return this.http.get(`${this.commandsByDeviceIdUrl}${m}`).pipe((0,a.K)(V=>this.errorSvc.handleError(V)))}allDeviceCoreCommandsPagination(m,N){return this.http.get(`${this.deviceCoreCommandListUrl}?offset=${m}&limit=${N}`).pipe((0,a.K)(X=>this.errorSvc.handleError(X)))}findDeviceAssociatedCommnadsByDeviceName(m){return this.http.get(`${this.commandsByDeviceNameUrl}${m}`).pipe((0,a.K)(V=>this.errorSvc.handleError(V)))}findAllDeviceCommnads(){return this.http.get(`${this.urlPrefix}/device`).pipe((0,a.K)(N=>this.errorSvc.handleError(N)))}issueGetBinaryCmd(m,N){return this.http.request("GET",`${this.commandsByDeviceIdUrl}${m}/command/${N}`,{responseType:"arraybuffer"}).pipe((0,a.K)(X=>this.errorSvc.handleError(X)))}issueGetCmd(m,N){return this.http.get(`${this.issueCmdByDeviceNameAndCmdNameUrl}${m}/${N}?ds-pushevent=true&ds-returnevent=true`).pipe((0,a.K)(X=>this.errorSvc.handleError(X)))}issueSetCmd(m,N,V){return this.http.put(`${this.issueCmdByDeviceNameAndCmdNameUrl}${m}/${N}`,JSON.stringify(V),this.httpPostOrPutJSONOptions).pipe((0,a.K)(H=>this.errorSvc.handleError(H)))}}return u.\u0275fac=function(m){return new(m||u)(I.LFG(n.eN),I.LFG(_.T))},u.\u0275prov=I.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);